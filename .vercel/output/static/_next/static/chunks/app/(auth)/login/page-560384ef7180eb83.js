(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[72],{642:(e,t,r)=>{"use strict";r.d(t,{N:()=>w});var s=r(5155),a=r(2115),l=r(9551),n=r(8819),i=r(4524),o=r(5131),c=r(1138),u=r(4866);function d(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class h extends a.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,c.s)(e)&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function f({children:e,isPresent:t,anchorX:r,root:l}){let n=(0,a.useId)(),i=(0,a.useRef)(null),o=(0,a.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,a.useContext)(u.Q),f=function(...e){return a.useCallback(function(...e){return t=>{let r=!1,s=e.map(e=>{let s=d(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():d(e[t],null)}}}}(...e),e)}(i,e?.ref);return(0,a.useInsertionEffect)(()=>{let{width:e,height:s,top:a,left:u,right:d}=o.current;if(t||!i.current||!e||!s)return;let h="left"===r?`left: ${u}`:`right: ${d}`;i.current.dataset.motionPopId=n;let f=document.createElement("style");c&&(f.nonce=c);let p=l??document.head;return p.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${s}px !important;
            ${h}px !important;
            top: ${a}px !important;
          }
        `),()=>{p.contains(f)&&p.removeChild(f)}},[t]),(0,s.jsx)(h,{isPresent:t,childRef:i,sizeRef:o,children:a.cloneElement(e,{ref:f})})}let p=({children:e,initial:t,isPresent:r,onExitComplete:l,custom:i,presenceAffectsLayout:c,mode:u,anchorX:d,root:h})=>{let p=(0,n.M)(m),g=(0,a.useId)(),x=!0,b=(0,a.useMemo)(()=>(x=!1,{id:g,initial:t,isPresent:r,custom:i,onExitComplete:e=>{for(let t of(p.set(e,!0),p.values()))if(!t)return;l&&l()},register:e=>(p.set(e,!1),()=>p.delete(e))}),[r,p,l]);return c&&x&&(b={...b}),(0,a.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[r]),a.useEffect(()=>{r||p.size||!l||l()},[r]),"popLayout"===u&&(e=(0,s.jsx)(f,{isPresent:r,anchorX:d,root:h,children:e})),(0,s.jsx)(o.t.Provider,{value:b,children:e})};function m(){return new Map}var g=r(9196);let x=e=>e.key||"";function b(e){let t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}let w=({children:e,custom:t,initial:r=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:u="sync",propagate:d=!1,anchorX:h="left",root:f})=>{let[m,w]=(0,g.xQ)(d),y=(0,a.useMemo)(()=>b(e),[e]),j=d&&!m?[]:y.map(x),v=(0,a.useRef)(!0),N=(0,a.useRef)(y),k=(0,n.M)(()=>new Map),[_,E]=(0,a.useState)(y),[I,C]=(0,a.useState)(y);(0,i.E)(()=>{v.current=!1,N.current=y;for(let e=0;e<I.length;e++){let t=x(I[e]);j.includes(t)?k.delete(t):!0!==k.get(t)&&k.set(t,!1)}},[I,j.length,j.join("-")]);let S=[];if(y!==_){let e=[...y];for(let t=0;t<I.length;t++){let r=I[t],s=x(r);j.includes(s)||(e.splice(t,0,r),S.push(r))}return"wait"===u&&S.length&&(e=S),C(b(e)),E(y),null}let{forceRender:A}=(0,a.useContext)(l.L);return(0,s.jsx)(s.Fragment,{children:I.map(e=>{let a=x(e),l=(!d||!!m)&&(y===I||j.includes(a));return(0,s.jsx)(p,{isPresent:l,initial:(!v.current||!!r)&&void 0,custom:t,presenceAffectsLayout:c,mode:u,root:f,onExitComplete:l?void 0:()=>{if(!k.has(a))return;k.set(a,!0);let e=!0;k.forEach(t=>{t||(e=!1)}),e&&(A?.(),C(N.current),d&&w?.(),o&&o())},anchorX:h,children:e},a)})})}},1165:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(8340).A)("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},1628:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(8340).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},2289:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(8340).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},2985:(e,t,r)=>{"use strict";r.d(t,{A:()=>c,AuthProvider:()=>o});var s=r(5155),a=r(2115),l=r(3318),n=r(3321);let i=(0,a.createContext)(void 0);function o({children:e}){let[t,r]=(0,a.useState)(null),[o,c]=(0,a.useState)(null),[u,d]=(0,a.useState)(null),[h,f]=(0,a.useState)(!0),[p,m]=(0,a.useState)(null),[g]=(0,a.useState)(()=>(0,l.createBrowserClient)("https://lbjymlodxprzqgtyqtcq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxianltbG9keHByenFndHlxdGNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzNDk1MzEsImV4cCI6MjA3ODkyNTUzMX0.m9k-Id03Kt1scFWvIuK354EHjiO0Y-d8mbO53QqSMRU")),x=(0,n.useRouter)();(0,a.useEffect)(()=>{(async()=>{try{let{data:e}=await g.auth.getSession();c(e.session),r(e.session?.user??null),e.session?.user&&await b(e.session.user.id)}catch(e){}finally{f(!1)}})();let{data:e}=g.auth.onAuthStateChange(async(e,t)=>{c(t),r(t?.user??null),t?.user?await b(t.user.id):d(null),"SIGNED_OUT"===e&&x.push("/login")});return()=>{e?.subscription.unsubscribe()}},[g,x]);let b=async e=>{try{let{data:t,error:r}=await g.from("user_settings").select().eq("user_id",e).single();r&&r.code,d(t||null)}catch(e){}},w=async(e,t,r)=>{try{m(null);let{data:s,error:a}=await g.auth.signUp({email:e,password:t,options:{emailRedirectTo:`${window.location.origin}/auth/callback`,data:r}});if(a)return m(a.message),{user:null,error:a};return{user:s.user,error:null}}catch(t){let e=t instanceof Error?t:Error("Sign up failed");return m(e.message),{user:null,error:e}}},y=async(e,t)=>{try{m(null);let{data:r,error:s}=await g.auth.signInWithPassword({email:e,password:t});if(s)return m(s.message),{user:null,error:s};return{user:r.user,error:null}}catch(t){let e=t instanceof Error?t:Error("Sign in failed");return m(e.message),{user:null,error:e}}},j=async()=>{try{m(null);let{error:e}=await g.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,queryParams:{access_type:"offline",prompt:"consent"}}});if(e)return m(e.message),{error:e};return{error:null}}catch(t){let e=t instanceof Error?t:Error("Google sign in failed");return m(e.message),{error:e}}},v=async e=>{try{m(null);let{error:t}=await g.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/auth/callback?next=/update-password`});if(t)return m(t.message),{error:t};return{error:null}}catch(t){let e=t instanceof Error?t:Error("Reset password failed");return m(e.message),{error:e}}},N=async e=>{try{m(null);let{error:t}=await g.auth.updateUser({password:e});if(t)return m(t.message),{error:t};return{error:null}}catch(t){let e=t instanceof Error?t:Error("Update password failed");return m(e.message),{error:e}}},k=async()=>{try{m(null),await g.auth.signOut(),r(null),c(null),d(null)}catch(t){let e=t instanceof Error?t:Error("Sign out failed");throw m(e.message),e}},_=async e=>{try{if(!t)throw Error("User not authenticated");m(null);let{data:r,error:s}=await g.from("user_settings").upsert({user_id:t.id,...e,updated_at:new Date().toISOString()},{onConflict:"user_id"}).select().single();if(s)throw s;d(r)}catch(t){let e=t instanceof Error?t:Error("Update failed");throw m(e.message),e}},E=async()=>{try{if(!t)return;await b(t.id)}catch(e){console.error("Refresh user error:",e)}};return(0,s.jsx)(i.Provider,{value:{user:t,session:o,userSettings:u,loading:h,error:p,signUp:w,signIn:y,signInWithGoogle:j,resetPassword:v,updatePassword:N,signOut:k,updateUserSettings:_,refreshUser:E},children:e})}function c(){let e=(0,a.useContext)(i);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},5772:(e,t,r)=>{"use strict";r.d(t,{default:()=>a.a});var s=r(7651),a=r.n(s)},5777:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(8340).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},5784:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(5155),a=r(2115),l=r(3321),n=r(8500),i=r.n(n),o=r(5772),c=r(2985),u=r(2289),d=r(5777),h=r(1165),f=r(1628),p=r(642),m=r(4817);let g=["/branding/resource_8Yu5GfUCC29dqKx3x0skXr.png","/branding/resource_8vxcerNBlWE4yxe6z7t4nh.png","/branding/resource_9Fnvkd0qdNf9kUnicIO_4i.png","/branding/resource_9Jl0RXn61UJdSrgTMuDOHn.png","/branding/resource_9ltCVdMUYmv9yVAyBQIkEL.png","/branding/resource_9mC_ELBS7fC2fnV2ZG_Oiy.png","/branding/resource_aQYFm53KqYX5LsYT4nok53.png","/branding/resource_ahUbsyF9X0Y9I4uijZ-O0g.png","/branding/resource_aoavD787FGN3LgBj6ENk1f.png","/branding/resource_b48jIDhedfi7SNQrCI4_tG.png","/branding/resource_bA3PtO8TZ_X01qLbyPx4CV.png","/branding/resource_baoMoNSrueT23LGWB1c_fA.png","/branding/resource_bq982z4VJm6bDMH2oYdk1N.png","/branding/resource_bxSAiNMJ85y4XpeAi2k4or.png"];function x(){let e=(0,l.useRouter)(),{signIn:t,signInWithGoogle:r}=(0,c.A)(),[n,x]=(0,a.useState)(""),[b,w]=(0,a.useState)(""),[y,j]=(0,a.useState)(!1),[v,N]=(0,a.useState)(!1),[k,_]=(0,a.useState)(null),[E,I]=(0,a.useState)(0);(0,a.useEffect)(()=>{let e=setInterval(()=>{I(e=>(e+1)%g.length)},4e3);return()=>clearInterval(e)},[]);let C=async r=>{r.preventDefault(),j(!0),_(null);try{if(!n||!b)throw Error("Email and password are required");let{user:r,error:s}=await t(n,b);if(s)throw s;r&&e.push("/dashboard")}catch(e){_(e instanceof Error?e.message:"Sign in failed")}finally{j(!1)}},S=async()=>{N(!0),_(null);try{let{error:e}=await r();if(e)throw e}catch(e){_(e instanceof Error?e.message:"Google sign in failed"),N(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-black text-white flex font-sans",children:[(0,s.jsxs)("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 relative overflow-hidden",children:[(0,s.jsxs)("div",{className:"absolute inset-0 z-0",children:[(0,s.jsx)("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-purple-900/20 rounded-full blur-[120px] animate-pulse-glow"}),(0,s.jsx)("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-blue-900/20 rounded-full blur-[120px] animate-pulse-glow [animation-delay:1s]"})]}),(0,s.jsxs)("div",{className:"max-w-md w-full relative z-10",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsxs)(i(),{href:"/",className:"inline-flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"relative w-12 h-12",children:(0,s.jsx)(o.default,{src:"/callwaiting ai logo.png",alt:"CallWaiting AI Logo",fill:!0,className:"object-contain"})}),(0,s.jsx)("span",{className:"text-3xl font-bold tracking-tight",children:"CallWaiting AI"})]}),(0,s.jsx)("h1",{className:"text-4xl font-serif font-bold mb-2 bg-clip-text text-transparent bg-gradient-to-b from-white to-white/60",children:"Welcome Back"}),(0,s.jsx)("p",{className:"text-slate-400 font-light",children:"Sign in to manage your AI receptionist"})]}),(0,s.jsxs)("div",{className:"glass-panel p-8 rounded-2xl border border-white/10 bg-white/5 backdrop-blur-xl",children:[(0,s.jsxs)("form",{onSubmit:C,className:"space-y-5",children:[k&&(0,s.jsx)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-red-400 text-sm flex items-center gap-2",children:[(0,s.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),k]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Email"}),(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)(u.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-500 group-focus-within:text-purple-400 transition-colors"}),(0,s.jsx)("input",{type:"email",value:n,onChange:e=>x(e.target.value),placeholder:"doctor@clinic.com",required:!0,className:"w-full pl-10 pr-4 py-3 bg-black/40 border border-white/10 rounded-xl text-white placeholder-slate-600 focus:outline-none focus:border-purple-500/50 focus:ring-1 focus:ring-purple-500/50 transition-all"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1.5",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Password"}),(0,s.jsx)(i(),{href:"/forgot-password",className:"text-xs text-slate-500 hover:text-white cursor-pointer transition-colors",children:"Forgot password?"})]}),(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)(d.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-500 group-focus-within:text-purple-400 transition-colors"}),(0,s.jsx)("input",{type:"password",value:b,onChange:e=>w(e.target.value),placeholder:"••••••••",required:!0,className:"w-full pl-10 pr-4 py-3 bg-black/40 border border-white/10 rounded-xl text-white placeholder-slate-600 focus:outline-none focus:border-purple-500/50 focus:ring-1 focus:ring-purple-500/50 transition-all"})]})]}),(0,s.jsx)("button",{type:"submit",disabled:y||v,className:"w-full bg-white text-black hover:bg-slate-200 disabled:bg-slate-800 disabled:text-slate-500 font-bold py-3.5 px-4 rounded-full transition-all duration-300 shadow-[0_0_20px_rgba(255,255,255,0.1)] hover:shadow-[0_0_25px_rgba(255,255,255,0.25)] flex items-center justify-center gap-2 mt-2",children:y?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.A,{className:"w-4 h-4 animate-spin"}),"Accessing Portal..."]}):(0,s.jsxs)(s.Fragment,{children:["Sign In",(0,s.jsx)(f.A,{className:"w-4 h-4"})]})})]}),(0,s.jsxs)("div",{className:"relative my-6",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,s.jsx)("div",{className:"w-full border-t border-white/10"})}),(0,s.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,s.jsx)("span",{className:"bg-black px-2 text-slate-500",children:"Or continue with"})})]}),(0,s.jsxs)("button",{type:"button",onClick:S,disabled:y||v,className:"w-full bg-transparent border border-white/20 text-white hover:bg-white/5 disabled:opacity-50 font-semibold py-3.5 px-4 rounded-full transition-all duration-300 flex items-center justify-center gap-3",children:[v?(0,s.jsx)(h.A,{className:"w-4 h-4 animate-spin"}):(0,s.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),(0,s.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),(0,s.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),(0,s.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]})]}),(0,s.jsx)("div",{className:"mt-8 text-center",children:(0,s.jsxs)("p",{className:"text-slate-500 text-sm",children:["New to CallWaiting AI?"," ",(0,s.jsx)(i(),{href:"/sign-up",className:"text-white hover:text-purple-300 font-semibold transition-colors",children:"Start Free Trial"})]})})]})]}),(0,s.jsxs)("div",{className:"hidden lg:flex w-1/2 bg-gradient-to-br from-purple-900/20 to-blue-900/20 items-center justify-center p-12 relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(120,119,198,0.1),transparent_50%)]"}),(0,s.jsxs)("div",{className:"relative w-full max-w-2xl aspect-[4/3] rounded-2xl overflow-hidden shadow-2xl",children:[(0,s.jsx)(p.N,{mode:"wait",children:(0,s.jsx)(m.P.div,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:1,ease:"easeInOut"},className:"absolute inset-0",children:(0,s.jsx)(o.default,{src:g[E],alt:`CallWaiting AI Branding ${E+1}`,fill:!0,className:"object-contain",priority:0===E})},E)}),(0,s.jsx)("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex gap-2 z-10",children:g.map((e,t)=>(0,s.jsx)("button",{onClick:()=>I(t),className:`h-1.5 rounded-full transition-all duration-300 ${t===E?"w-8 bg-white":"w-1.5 bg-white/40 hover:bg-white/60"}`,"aria-label":`Go to slide ${t+1}`},t))})]}),(0,s.jsxs)("div",{className:"absolute bottom-12 left-12 right-12 text-center",children:[(0,s.jsx)(m.P.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.8},className:"text-3xl font-bold text-white mb-2",children:"AI-Powered Reception"},`title-${E}`),(0,s.jsx)(m.P.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7,duration:.8},className:"text-slate-300 text-lg",children:"24/7 availability, zero missed opportunities"},`subtitle-${E}`)]})]})]})}},7619:(e,t,r)=>{Promise.resolve().then(r.bind(r,5784))},7651:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={default:function(){return u},getImageProps:function(){return c}};for(var a in s)Object.defineProperty(t,a,{enumerable:!0,get:s[a]});let l=r(3623),n=r(5413),i=r(8437),o=l._(r(6095));function c(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let u=i.Image}},e=>{e.O(0,[8500,5946,8346,8437,8441,8928,7358],()=>e(e.s=7619)),_N_E=e.O()}]);