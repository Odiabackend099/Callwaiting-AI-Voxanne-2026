(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5890],{642:(e,t,r)=>{"use strict";r.d(t,{N:()=>y});var s=r(5155),n=r(2115),a=r(9551),l=r(8819),i=r(4524),o=r(5131),c=r(1138),u=r(4866);function d(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class h extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,c.s)(e)&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function f({children:e,isPresent:t,anchorX:r,root:a}){let l=(0,n.useId)(),i=(0,n.useRef)(null),o=(0,n.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,n.useContext)(u.Q),f=function(...e){return n.useCallback(function(...e){return t=>{let r=!1,s=e.map(e=>{let s=d(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():d(e[t],null)}}}}(...e),e)}(i,e?.ref);return(0,n.useInsertionEffect)(()=>{let{width:e,height:s,top:n,left:u,right:d}=o.current;if(t||!i.current||!e||!s)return;let h="left"===r?`left: ${u}`:`right: ${d}`;i.current.dataset.motionPopId=l;let f=document.createElement("style");c&&(f.nonce=c);let m=a??document.head;return m.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${s}px !important;
            ${h}px !important;
            top: ${n}px !important;
          }
        `),()=>{m.contains(f)&&m.removeChild(f)}},[t]),(0,s.jsx)(h,{isPresent:t,childRef:i,sizeRef:o,children:n.cloneElement(e,{ref:f})})}let m=({children:e,initial:t,isPresent:r,onExitComplete:a,custom:i,presenceAffectsLayout:c,mode:u,anchorX:d,root:h})=>{let m=(0,l.M)(p),g=(0,n.useId)(),x=!0,b=(0,n.useMemo)(()=>(x=!1,{id:g,initial:t,isPresent:r,custom:i,onExitComplete:e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;a&&a()},register:e=>(m.set(e,!1),()=>m.delete(e))}),[r,m,a]);return c&&x&&(b={...b}),(0,n.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[r]),n.useEffect(()=>{r||m.size||!a||a()},[r]),"popLayout"===u&&(e=(0,s.jsx)(f,{isPresent:r,anchorX:d,root:h,children:e})),(0,s.jsx)(o.t.Provider,{value:b,children:e})};function p(){return new Map}var g=r(9196);let x=e=>e.key||"";function b(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}let y=({children:e,custom:t,initial:r=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:u="sync",propagate:d=!1,anchorX:h="left",root:f})=>{let[p,y]=(0,g.xQ)(d),w=(0,n.useMemo)(()=>b(e),[e]),j=d&&!p?[]:w.map(x),v=(0,n.useRef)(!0),N=(0,n.useRef)(w),k=(0,l.M)(()=>new Map),[_,E]=(0,n.useState)(w),[I,C]=(0,n.useState)(w);(0,i.E)(()=>{v.current=!1,N.current=w;for(let e=0;e<I.length;e++){let t=x(I[e]);j.includes(t)?k.delete(t):!0!==k.get(t)&&k.set(t,!1)}},[I,j.length,j.join("-")]);let S=[];if(w!==_){let e=[...w];for(let t=0;t<I.length;t++){let r=I[t],s=x(r);j.includes(s)||(e.splice(t,0,r),S.push(r))}return"wait"===u&&S.length&&(e=S),C(b(e)),E(w),null}let{forceRender:A}=(0,n.useContext)(a.L);return(0,s.jsx)(s.Fragment,{children:I.map(e=>{let n=x(e),a=(!d||!!p)&&(w===I||j.includes(n));return(0,s.jsx)(m,{isPresent:a,initial:(!v.current||!!r)&&void 0,custom:t,presenceAffectsLayout:c,mode:u,root:f,onExitComplete:a?void 0:()=>{if(!k.has(n))return;k.set(n,!0);let e=!0;k.forEach(t=>{t||(e=!1)}),e&&(A?.(),C(N.current),d&&y?.(),o&&o())},anchorX:h,children:e},n)})})}},723:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(8340).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1165:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(8340).A)("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},1628:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(8340).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},2289:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(8340).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},2985:(e,t,r)=>{"use strict";r.d(t,{A:()=>c,AuthProvider:()=>o});var s=r(5155),n=r(2115),a=r(3318),l=r(3321);let i=(0,n.createContext)(void 0);function o({children:e}){let[t,r]=(0,n.useState)(null),[o,c]=(0,n.useState)(null),[u,d]=(0,n.useState)(null),[h,f]=(0,n.useState)(!0),[m,p]=(0,n.useState)(null),[g]=(0,n.useState)(()=>(0,a.createBrowserClient)("https://lbjymlodxprzqgtyqtcq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxianltbG9keHByenFndHlxdGNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzNDk1MzEsImV4cCI6MjA3ODkyNTUzMX0.m9k-Id03Kt1scFWvIuK354EHjiO0Y-d8mbO53QqSMRU")),x=(0,l.useRouter)();(0,n.useEffect)(()=>{(async()=>{try{let{data:e}=await g.auth.getSession();c(e.session),r(e.session?.user??null),e.session?.user&&await b(e.session.user.id)}catch(e){}finally{f(!1)}})();let{data:e}=g.auth.onAuthStateChange(async(e,t)=>{c(t),r(t?.user??null),t?.user?await b(t.user.id):d(null),"SIGNED_OUT"===e&&x.push("/login")});return()=>{e?.subscription.unsubscribe()}},[g,x]);let b=async e=>{try{let{data:t,error:r}=await g.from("user_settings").select().eq("user_id",e).single();r&&r.code,d(t||null)}catch(e){}},y=async(e,t,r)=>{try{p(null);let{data:s,error:n}=await g.auth.signUp({email:e,password:t,options:{emailRedirectTo:`${window.location.origin}/auth/callback`,data:r}});if(n)return p(n.message),{user:null,error:n};return{user:s.user,error:null}}catch(t){let e=t instanceof Error?t:Error("Sign up failed");return p(e.message),{user:null,error:e}}},w=async(e,t)=>{try{p(null);let{data:r,error:s}=await g.auth.signInWithPassword({email:e,password:t});if(s)return p(s.message),{user:null,error:s};return{user:r.user,error:null}}catch(t){let e=t instanceof Error?t:Error("Sign in failed");return p(e.message),{user:null,error:e}}},j=async()=>{try{p(null);let{error:e}=await g.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,queryParams:{access_type:"offline",prompt:"consent"}}});if(e)return p(e.message),{error:e};return{error:null}}catch(t){let e=t instanceof Error?t:Error("Google sign in failed");return p(e.message),{error:e}}},v=async e=>{try{p(null);let{error:t}=await g.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/auth/callback?next=/update-password`});if(t)return p(t.message),{error:t};return{error:null}}catch(t){let e=t instanceof Error?t:Error("Reset password failed");return p(e.message),{error:e}}},N=async e=>{try{p(null);let{error:t}=await g.auth.updateUser({password:e});if(t)return p(t.message),{error:t};return{error:null}}catch(t){let e=t instanceof Error?t:Error("Update password failed");return p(e.message),{error:e}}},k=async()=>{try{p(null),await g.auth.signOut(),r(null),c(null),d(null)}catch(t){let e=t instanceof Error?t:Error("Sign out failed");throw p(e.message),e}},_=async e=>{try{if(!t)throw Error("User not authenticated");p(null);let{data:r,error:s}=await g.from("user_settings").upsert({user_id:t.id,...e,updated_at:new Date().toISOString()},{onConflict:"user_id"}).select().single();if(s)throw s;d(r)}catch(t){let e=t instanceof Error?t:Error("Update failed");throw p(e.message),e}},E=async()=>{try{if(!t)return;await b(t.id)}catch(e){console.error("Refresh user error:",e)}};return(0,s.jsx)(i.Provider,{value:{user:t,session:o,userSettings:u,loading:h,error:m,signUp:y,signIn:w,signInWithGoogle:j,resetPassword:v,updatePassword:N,signOut:k,updateUserSettings:_,refreshUser:E},children:e})}function c(){let e=(0,n.useContext)(i);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},3102:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var s=r(5155),n=r(2115),a=r(8500),l=r.n(a),i=r(5772),o=r(2985),c=r(2289),u=r(723),d=r(1165),h=r(1628),f=r(642),m=r(4817);let p=["/branding/resource_8Yu5GfUCC29dqKx3x0skXr.png","/branding/resource_8vxcerNBlWE4yxe6z7t4nh.png","/branding/resource_9Fnvkd0qdNf9kUnicIO_4i.png","/branding/resource_9Jl0RXn61UJdSrgTMuDOHn.png","/branding/resource_9ltCVdMUYmv9yVAyBQIkEL.png","/branding/resource_9mC_ELBS7fC2fnV2ZG_Oiy.png","/branding/resource_aQYFm53KqYX5LsYT4nok53.png","/branding/resource_ahUbsyF9X0Y9I4uijZ-O0g.png","/branding/resource_aoavD787FGN3LgBj6ENk1f.png","/branding/resource_b48jIDhedfi7SNQrCI4_tG.png","/branding/resource_bA3PtO8TZ_X01qLbyPx4CV.png","/branding/resource_baoMoNSrueT23LGWB1c_fA.png","/branding/resource_bq982z4VJm6bDMH2oYdk1N.png","/branding/resource_bxSAiNMJ85y4XpeAi2k4or.png"];function g(){let{resetPassword:e}=(0,o.A)(),[t,r]=(0,n.useState)(""),[a,g]=(0,n.useState)(!1),[x,b]=(0,n.useState)(null),[y,w]=(0,n.useState)(!1),[j,v]=(0,n.useState)(0);(0,n.useEffect)(()=>{let e=setInterval(()=>{v(e=>(e+1)%p.length)},4e3);return()=>clearInterval(e)},[]);let N=async r=>{r.preventDefault(),g(!0),b(null);try{if(!t)throw Error("Email is required");let{error:r}=await e(t);if(r)throw r;w(!0)}catch(e){b(e instanceof Error?e.message:"Failed to send reset email")}finally{g(!1)}};return y?(0,s.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-4",children:(0,s.jsx)("div",{className:"max-w-md w-full",children:(0,s.jsxs)("div",{className:"glass-panel p-8 rounded-2xl border border-white/10 bg-white/5 backdrop-blur-xl text-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-cyan-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(c.A,{className:"w-6 h-6 text-cyan-400"})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Check your email"}),(0,s.jsxs)("p",{className:"text-slate-300 mb-6",children:["We've sent a password reset link to ",(0,s.jsx)("strong",{children:t})]}),(0,s.jsx)("p",{className:"text-sm text-slate-400 mb-8",children:"Click the link in the email to reset your password."}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(l(),{href:"/login",className:"block bg-white text-black hover:bg-slate-200 font-bold py-3 px-4 rounded-full transition-all",children:"Back to Login"}),(0,s.jsxs)("p",{className:"text-xs text-slate-400",children:["Didn't receive the email? Check your spam folder or"," ",(0,s.jsx)("button",{onClick:()=>w(!1),className:"text-cyan-400 hover:text-cyan-300",children:"try again"})]})]})]})})}):(0,s.jsxs)("div",{className:"min-h-screen bg-black text-white flex font-sans",children:[(0,s.jsxs)("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 relative overflow-hidden",children:[(0,s.jsxs)("div",{className:"absolute inset-0 z-0",children:[(0,s.jsx)("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-purple-900/20 rounded-full blur-[120px] animate-pulse-glow"}),(0,s.jsx)("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-blue-900/20 rounded-full blur-[120px] animate-pulse-glow [animation-delay:1s]"})]}),(0,s.jsxs)("div",{className:"max-w-md w-full relative z-10",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)(l(),{href:"/login",className:"inline-flex items-center gap-2 text-slate-400 hover:text-white transition-colors mb-6",children:[(0,s.jsx)(u.A,{className:"w-4 h-4"}),"Back to Login"]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"relative w-10 h-10",children:(0,s.jsx)(i.default,{src:"/callwaiting ai logo.png",alt:"CallWaiting AI Logo",fill:!0,className:"object-contain"})}),(0,s.jsx)("span",{className:"text-xl font-bold tracking-tight",children:"CallWaiting AI"})]}),(0,s.jsx)("h1",{className:"text-4xl font-serif font-bold mb-2 bg-clip-text text-transparent bg-gradient-to-b from-white to-white/60",children:"Reset Password"}),(0,s.jsx)("p",{className:"text-slate-400 font-light",children:"Enter your email to receive a reset link"})]}),(0,s.jsx)("div",{className:"glass-panel p-8 rounded-2xl border border-white/10 bg-white/5 backdrop-blur-xl",children:(0,s.jsxs)("form",{onSubmit:N,className:"space-y-5",children:[x&&(0,s.jsx)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-red-400 text-sm flex items-center gap-2",children:[(0,s.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),x]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Email"}),(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)(c.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-500 group-focus-within:text-purple-400 transition-colors"}),(0,s.jsx)("input",{type:"email",value:t,onChange:e=>r(e.target.value),placeholder:"doctor@clinic.com",required:!0,className:"w-full pl-10 pr-4 py-3 bg-black/40 border border-white/10 rounded-xl text-white placeholder-slate-600 focus:outline-none focus:border-purple-500/50 focus:ring-1 focus:ring-purple-500/50 transition-all"})]})]}),(0,s.jsx)("button",{type:"submit",disabled:a,className:"w-full bg-white text-black hover:bg-slate-200 disabled:bg-slate-800 disabled:text-slate-500 font-bold py-3.5 px-4 rounded-full transition-all duration-300 shadow-[0_0_20px_rgba(255,255,255,0.1)] hover:shadow-[0_0_25px_rgba(255,255,255,0.25)] flex items-center justify-center gap-2 mt-2",children:a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.A,{className:"w-4 h-4 animate-spin"}),"Sending Link..."]}):(0,s.jsxs)(s.Fragment,{children:["Send Reset Link",(0,s.jsx)(h.A,{className:"w-4 h-4"})]})})]})})]})]}),(0,s.jsxs)("div",{className:"hidden lg:flex w-1/2 bg-gradient-to-br from-purple-900/20 to-blue-900/20 items-center justify-center p-12 relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(120,119,198,0.1),transparent_50%)]"}),(0,s.jsxs)("div",{className:"relative w-full max-w-2xl aspect-[4/3] rounded-2xl overflow-hidden shadow-2xl",children:[(0,s.jsx)(f.N,{mode:"wait",children:(0,s.jsx)(m.P.div,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:1,ease:"easeInOut"},className:"absolute inset-0",children:(0,s.jsx)(i.default,{src:p[j],alt:`CallWaiting AI Branding ${j+1}`,fill:!0,className:"object-contain",priority:0===j})},j)}),(0,s.jsx)("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex gap-2 z-10",children:p.map((e,t)=>(0,s.jsx)("button",{onClick:()=>v(t),className:`h-1.5 rounded-full transition-all duration-300 ${t===j?"w-8 bg-white":"w-1.5 bg-white/40 hover:bg-white/60"}`,"aria-label":`Go to slide ${t+1}`},t))})]}),(0,s.jsxs)("div",{className:"absolute bottom-12 left-12 right-12 text-center",children:[(0,s.jsx)(m.P.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.8},className:"text-3xl font-bold text-white mb-2",children:"Secure Access"},`title-${j}`),(0,s.jsx)(m.P.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7,duration:.8},className:"text-slate-300 text-lg",children:"Recover your account in seconds"},`subtitle-${j}`)]})]})]})}},5772:(e,t,r)=>{"use strict";r.d(t,{default:()=>n.a});var s=r(7651),n=r.n(s)},6185:(e,t,r)=>{Promise.resolve().then(r.bind(r,3102))},7651:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={default:function(){return u},getImageProps:function(){return c}};for(var n in s)Object.defineProperty(t,n,{enumerable:!0,get:s[n]});let a=r(3623),l=r(5413),i=r(8437),o=a._(r(6095));function c(e){let{props:t}=(0,l.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let u=i.Image}},e=>{e.O(0,[8500,5946,8346,8437,8441,8928,7358],()=>e(e.s=6185)),_N_E=e.O()}]);