[
  {
    "projectId": "21998609-8612-4fa1-a25d-b046ea83b4bb",
    "testId": "11910fae-05c1-45d1-bf5b-512abdacf296",
    "userId": "0488a418-60a1-7056-617f-183343ba07c4",
    "title": "TC001-test_receive_vapi_webhooks",
    "description": "Verify that the /api/webhooks/vapi endpoint correctly processes incoming Vapi webhook events for call started, ended, transcript, and recording, ensuring proper handling and response with status 200.",
    "code": "import requests\n\ndef test_receive_vapi_webhooks():\n    base_url = \"http://localhost:3001\"\n    endpoint = f\"{base_url}/api/webhooks/vapi\"\n    headers = {\n        \"Content-Type\": \"application/json\"\n    }\n    timeout = 30\n\n    webhook_events = [\n        {\n            \"event\": \"call_started\",\n            \"call_id\": \"test-call-1234\",\n            \"timestamp\": \"2025-12-10T12:00:00Z\",\n            \"caller\": \"+1234567890\",\n            \"callee\": \"+1987654321\"\n        },\n        {\n            \"event\": \"transcript\",\n            \"call_id\": \"test-call-1234\",\n            \"timestamp\": \"2025-12-10T12:01:00Z\",\n            \"transcript\": \"Hello, this is a live transcription.\"\n        },\n        {\n            \"event\": \"recording\",\n            \"call_id\": \"test-call-1234\",\n            \"timestamp\": \"2025-12-10T12:02:00Z\",\n            \"recording_url\": \"https://storage.example.com/recordings/test-call-1234.mp3\",\n            \"signed_url_expiry\": \"2025-12-17T12:00:00Z\"\n        },\n        {\n            \"event\": \"call_ended\",\n            \"call_id\": \"test-call-1234\",\n            \"timestamp\": \"2025-12-10T12:05:00Z\",\n            \"duration_seconds\": 300,\n            \"call_result\": \"completed\"\n        }\n    ]\n\n    for event_payload in webhook_events:\n        try:\n            response = requests.post(endpoint, json=event_payload, headers=headers, timeout=timeout)\n            assert response.status_code == 200, f\"Expected status 200 but got {response.status_code} for event {event_payload.get('event', 'unknown')}\"\n        except requests.exceptions.RequestException as e:\n            assert False, f\"Request failed for event {event_payload.get('event', 'unknown')}: {e}\"\n\ntest_receive_vapi_webhooks()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 48, in <module>\n  File \"<string>\", line 44, in test_receive_vapi_webhooks\nAssertionError: Expected status 200 but got 400 for event call_started\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-12-17T23:32:03.334Z",
    "modified": "2025-12-17T23:33:08.864Z"
  },
  {
    "projectId": "21998609-8612-4fa1-a25d-b046ea83b4bb",
    "testId": "421b56a8-7433-45dd-ac0c-bdbde8d97797",
    "userId": "0488a418-60a1-7056-617f-183343ba07c4",
    "title": "TC002-test_start_outbound_calls",
    "description": "Verify that the /api/calls/start endpoint initiates outbound calls correctly when provided with valid leads, vapiAgentId, and selectedVoice, and returns a 200 status with confirmation.",
    "code": "import requests\n\nBASE_URL = \"http://localhost:3001\"\nTIMEOUT = 30\n\ndef test_start_outbound_calls():\n    url = f\"{BASE_URL}/api/calls/start\"\n    headers = {\n        \"Content-Type\": \"application/json\"\n    }\n\n    # Adjusted leads array to array of objects with 'phone' field as string\n    payload = {\n        \"leads\": [\n            {\"phone\": \"+1234567890\"},\n            {\"phone\": \"+1987654321\"}\n        ],\n        \"vapiAgentId\": \"agent_abc123\",\n        \"selectedVoice\": \"en-US-Wavenet-D\"\n    }\n\n    try:\n        response = requests.post(url, json=payload, headers=headers, timeout=TIMEOUT)\n    except requests.RequestException as e:\n        assert False, f\"Request to start outbound calls failed: {e}\"\n\n    assert response.status_code == 200, f\"Expected status code 200, got {response.status_code}\"\n    try:\n        resp_json = response.json()\n    except ValueError:\n        assert False, \"Response is not a valid JSON\"\n\n    # Checking response keys, callsStarted is probable key\n    confirmation_keys = ['message', 'confirmation', 'status', 'callsStarted']\n    assert any(key in resp_json for key in confirmation_keys), \"Response JSON missing confirmation keys\"\n\n    if 'message' in resp_json:\n        assert isinstance(resp_json['message'], str) and len(resp_json['message']) > 0, \"Message should be a non-empty string\"\n\n\ntest_start_outbound_calls()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 41, in <module>\n  File \"<string>\", line 27, in test_start_outbound_calls\nAssertionError: Expected status code 200, got 400\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-12-17T23:32:03.341Z",
    "modified": "2025-12-17T23:32:58.237Z"
  },
  {
    "projectId": "21998609-8612-4fa1-a25d-b046ea83b4bb",
    "testId": "bb090f2a-e748-495c-86cf-38bd5dea23e0",
    "userId": "0488a418-60a1-7056-617f-183343ba07c4",
    "title": "TC003-test_get_call_logs",
    "description": "Verify that the /api/calls-dashboard endpoint returns a list of call logs with correct pagination, filtering, and analytics data, responding with status 200.",
    "code": "import requests\n\nBASE_URL = \"http://localhost:3001\"\nCALLS_DASHBOARD_ENDPOINT = f\"{BASE_URL}/api/calls-dashboard\"\nTIMEOUT = 30\n\n# Assuming JWT auth token is needed for authentication, replace with a valid token.\nAUTH_TOKEN = \"YOUR_VALID_JWT_TOKEN_HERE\"\n\ndef test_get_call_logs():\n    headers = {\n        \"Authorization\": f\"Bearer {AUTH_TOKEN}\",\n        \"Accept\": \"application/json\"\n    }\n    params = {\n        # Example pagination params:\n        \"page\": 1,\n        \"pageSize\": 10,\n        # Example filters (adjust keys as per actual API):\n        \"filterInbound\": \"true\",\n        \"filterRecorded\": \"true\",\n        # Additional filters can be added if API supports them\n    }\n\n    try:\n        response = requests.get(CALLS_DASHBOARD_ENDPOINT, headers=headers, params=params, timeout=TIMEOUT)\n    except requests.RequestException as e:\n        assert False, f\"Request to get call logs failed: {e}\"\n\n    assert response.status_code == 200, f\"Expected status 200 but got {response.status_code}\"\n\n    try:\n        data = response.json()\n    except ValueError:\n        assert False, \"Response is not a valid JSON\"\n\n    # Validate that data is a dictionary\n    assert isinstance(data, dict), \"Response JSON root should be a dictionary\"\n\n    # Check for call logs list presence and type\n    call_logs = data.get(\"items\") or data.get(\"calls\") or data.get(\"callLogs\")\n    assert call_logs is not None, \"Response JSON missing 'items' or equivalent call logs list\"\n    assert isinstance(call_logs, list), \"'items' should be a list\"\n\n    # Validate at least one call log has expected keys reflecting core features\n    if call_logs:\n        sample = call_logs[0]\n        # Adjust key names to accept alternatives due to inconsistencies\n        direction_key = \"direction\" if \"direction\" in sample else \"callDirection\" if \"callDirection\" in sample else None\n        escalation_flag_key = \"escalationFlag\" if \"escalationFlag\" in sample else \"escalation_flag\" if \"escalation_flag\" in sample else None\n\n        expected_keys = [\"id\", direction_key, \"recordingUrl\", \"transcript\", \"agentId\", \"startTime\", \"endTime\", escalation_flag_key]\n\n        for key in expected_keys:\n            assert key is not None, \"Expected key for 'direction' or 'escalationFlag' not found in call log item\"\n            assert key in sample, f\"Call log item missing expected key: {key}\"\n\n        # direction validation for inbound call handling feature\n        assert sample[direction_key] in [\"inbound\", \"outbound\"], f\"'{direction_key}' should be 'inbound' or 'outbound'\"\n\n        # recordingUrl presence (can be None or valid URL string)\n        if sample[\"recordingUrl\"] is not None:\n            assert isinstance(sample[\"recordingUrl\"], str) and sample[\"recordingUrl\"].startswith(\"http\"), \"'recordingUrl' should be a valid URL string or None\"\n\n        # Transcript should be string or null (indicating live transcript or recorded)\n        assert sample[\"transcript\"] is None or isinstance(sample[\"transcript\"], str), \"'transcript' should be null or string\"\n\n        # escalationFlag bool for Smart Escalation feature validation\n        assert isinstance(sample.get(escalation_flag_key, False), bool), f\"'{escalation_flag_key}' should be boolean\"\n\ndef run_test():\n    test_get_call_logs()\n\nrun_test()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 74, in <module>\n  File \"<string>\", line 72, in run_test\n  File \"<string>\", line 55, in test_get_call_logs\nAssertionError: Expected key for 'direction' or 'escalationFlag' not found in call log item\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-12-17T23:32:03.351Z",
    "modified": "2025-12-17T23:33:23.667Z"
  },
  {
    "projectId": "21998609-8612-4fa1-a25d-b046ea83b4bb",
    "testId": "fe5766b4-8b92-4a37-b1bc-aa4b313313ea",
    "userId": "0488a418-60a1-7056-617f-183343ba07c4",
    "title": "TC004-test_list_assistants",
    "description": "Verify that the GET /api/assistants endpoint returns a list of AI assistants with their configurations and statuses.",
    "code": "import requests\n\nBASE_URL = \"http://localhost:3001\"\nTIMEOUT = 30\nHEADERS = {\n    \"Accept\": \"application/json\",\n    # Include Authorization header if authentication is required, e.g.:\n    # \"Authorization\": \"Bearer <token>\",\n}\n\ndef test_list_assistants():\n    url = f\"{BASE_URL}/api/assistants\"\n    try:\n        response = requests.get(url, headers=HEADERS, timeout=TIMEOUT)\n    except requests.RequestException as e:\n        assert False, f\"Request to {url} failed: {e}\"\n\n    assert response.status_code == 200, f\"Expected status code 200, got {response.status_code}\"\n\n    try:\n        data = response.json()\n    except ValueError:\n        assert False, \"Response is not valid JSON\"\n\n    assert isinstance(data, list), f\"Expected response to be a list, got {type(data)}\"\n\n    # For each assistant, verify presence and type of expected fields related to configurations and statuses\n    expected_fields = {\n        \"id\",\n        \"name\",\n        \"configuration\",\n        \"status\",\n        \"features\"\n    }\n\n    # Since PRD doesn't define explicit assistant schema, check for at least presence of keys related to requirements\n    for assistant in data:\n        assert isinstance(assistant, dict), \"Each assistant should be a dictionary\"\n        # Must have at least some identifying keys\n        assert \"id\" in assistant or \"name\" in assistant, \"Assistant must have 'id' or 'name'\"\n        # Check keys presence if present\n        if \"configuration\" in assistant:\n            assert isinstance(assistant[\"configuration\"], dict), \"'configuration' should be a dict\"\n        if \"status\" in assistant:\n            assert isinstance(assistant[\"status\"], (str, int)), \"'status' should be string or int\"\n        if \"features\" in assistant:\n            assert isinstance(assistant[\"features\"], list), \"'features' should be a list\"\n            features_set = set(assistant[\"features\"])\n            # Verify the feature list includes required key features from instructions\n            required_features = {\n                \"Inbound call handling\",\n                \"Call recording\",\n                \"Live transcript\",\n                \"Call log dashboard\",\n                \"Knowledge Base RAG\",\n                \"Agent config\",\n                \"Smart Escalation\",\n                \"Real-time updates\",\n                \"Auth\",\n                \"Production deployment\"\n            }\n            # Check for intersection, not necessarily all present, but at least some features relevant\n            assert features_set & required_features, (\n                f\"Assistant features {features_set} do not contain any required key features\"\n            )\n\ntest_list_assistants()",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 67, in <module>\n  File \"<string>\", line 18, in test_list_assistants\nAssertionError: Expected status code 200, got 500\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-12-17T23:32:03.359Z",
    "modified": "2025-12-17T23:32:46.129Z"
  },
  {
    "projectId": "21998609-8612-4fa1-a25d-b046ea83b4bb",
    "testId": "7e29736a-d590-4947-913d-d1fe293fc6ea",
    "userId": "0488a418-60a1-7056-617f-183343ba07c4",
    "title": "TC005-test_create_assistant",
    "description": "Verify that the POST /api/assistants endpoint creates a new AI assistant with valid input data and returns the created assistant details.",
    "code": "import requests\nimport uuid\n\nBASE_URL = \"http://localhost:3001\"\nASSISTANTS_ENDPOINT = f\"{BASE_URL}/api/assistants\"\nTIMEOUT = 30\n\nHEADERS = {\n    \"Content-Type\": \"application/json\"\n}\n\n\ndef test_create_assistant():\n    # Minimal required payload based on PRD since no exact payload schema provided\n    assistant_data = {\n        \"name\": f\"TestAssistant-{uuid.uuid4()}\"\n    }\n\n    created_assistant_id = None\n\n    try:\n        response = requests.post(\n            ASSISTANTS_ENDPOINT,\n            headers=HEADERS,\n            json=assistant_data,\n            timeout=TIMEOUT\n        )\n        assert response.status_code == 201 or response.status_code == 200, f\"Unexpected status code: {response.status_code}\"\n\n        resp_json = response.json()\n        assert \"id\" in resp_json, \"Response JSON missing 'id'\"\n\n        created_assistant_id = resp_json[\"id\"]\n\n        assert resp_json.get(\"name\") == assistant_data[\"name\"], \"Assistant name mismatch\"\n\n    finally:\n        if created_assistant_id:\n            try:\n                delete_url = f\"{ASSISTANTS_ENDPOINT}/{created_assistant_id}\"\n                del_resp = requests.delete(delete_url, headers=HEADERS, timeout=TIMEOUT)\n                assert del_resp.status_code in (200, 204), f\"Failed to delete assistant with id {created_assistant_id}\"\n            except Exception:\n                pass\n\n\ntest_create_assistant()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 47, in <module>\n  File \"<string>\", line 28, in test_create_assistant\nAssertionError: Unexpected status code: 404\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-12-17T23:32:03.373Z",
    "modified": "2025-12-17T23:33:02.076Z"
  },
  {
    "projectId": "21998609-8612-4fa1-a25d-b046ea83b4bb",
    "testId": "16a098cb-84fa-4ebb-ad00-bec27f6752c4",
    "userId": "0488a418-60a1-7056-617f-183343ba07c4",
    "title": "TC006-test_upload_knowledge_base_document",
    "description": "Verify that the POST /api/knowledge-base/upload endpoint accepts document uploads, processes chunking and embedding synchronously, and stores the document correctly.",
    "code": "import requests\nimport uuid\n\nBASE_URL = \"http://localhost:3001\"\nUPLOAD_ENDPOINT = f\"{BASE_URL}/api/knowledge-base/upload\"\nDELETE_ENDPOINT = f\"{BASE_URL}/api/knowledge-base\"  # Assuming DELETE /api/knowledge-base/{docId} exists for cleanup\nTIMEOUT = 30\n\n# Authentication setup - placeholder, adjust as needed (e.g., Bearer token)\nHEADERS = {\n    # Example Authorization header if required:\n    # \"Authorization\": \"Bearer YOUR_JWT_TOKEN\",\n}\n\ndef test_upload_knowledge_base_document():\n    # Prepare a sample document content and metadata\n    document_id = None\n    files = {\n        'file': ('sample_doc.txt', b'This is a test document content for knowledge base.', 'text/plain'),\n    }\n    data = {\n        # If the API requires metadata or other fields, include here\n    }\n    try:\n        response = requests.post(\n            UPLOAD_ENDPOINT,\n            headers=HEADERS,\n            files=files,\n            data=data,\n            timeout=TIMEOUT\n        )\n        # Validate HTTP status\n        assert response.status_code == 200, f\"Unexpected status code: {response.status_code} - {response.text}\"\n\n        # Validate response content\n        json_resp = response.json()\n        # Expect a document ID or success confirmation in response\n        assert 'documentId' in json_resp or 'id' in json_resp or 'success' in json_resp, \\\n            f\"Response missing expected keys: {json_resp}\"\n\n        # Extract document_id if available to clean up after test\n        document_id = json_resp.get('documentId') or json_resp.get('id')\n\n        # Further validations: Assuming the API response returns info about chunking and embedding synchronously processed\n        # Common keys might be 'chunkCount', 'embeddingStatus' or similar - adjust as per actual API response\n\n        # Example assertions (ignore if keys not present)\n        if 'chunkCount' in json_resp:\n            assert isinstance(json_resp['chunkCount'], int) and json_resp['chunkCount'] > 0, \\\n                \"chunkCount should be a positive integer\"\n        if 'embeddingStatus' in json_resp:\n            assert json_resp['embeddingStatus'] == \"completed\", \"Embedding status should be completed\"\n\n    finally:\n        # Cleanup: Delete uploaded document if API and document_id allow it\n        if document_id:\n            try:\n                del_response = requests.delete(\n                    f\"{DELETE_ENDPOINT}/{document_id}\",\n                    headers=HEADERS,\n                    timeout=TIMEOUT\n                )\n                # Accept 200 or 204 for successful deletion\n                assert del_response.status_code in [200, 204], \\\n                    f\"Failed to cleanup uploaded document {document_id}, status: {del_response.status_code}\"\n            except Exception as e:\n                # Log cleanup error but do not fail test due to cleanup issues\n                print(f\"Cleanup error for document {document_id}: {e}\")\n\ntest_upload_knowledge_base_document()",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 70, in <module>\n  File \"<string>\", line 33, in test_upload_knowledge_base_document\nAssertionError: Unexpected status code: 404 - {\"error\":\"Not found\",\"path\":\"/api/knowledge-base/upload\"}\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-12-17T23:32:03.385Z",
    "modified": "2025-12-17T23:32:48.291Z"
  },
  {
    "projectId": "21998609-8612-4fa1-a25d-b046ea83b4bb",
    "testId": "f7b55d4d-fcdd-4044-9117-ce5e4786199f",
    "userId": "0488a418-60a1-7056-617f-183343ba07c4",
    "title": "TC007-test_query_knowledge_base",
    "description": "Verify that the POST /api/knowledge-base/query endpoint returns relevant search results from the knowledge base using vector search and RAG techniques.",
    "code": "import requests\n\nBASE_URL = \"http://localhost:3001\"\nTIMEOUT = 30\nHEADERS = {\n    \"Content-Type\": \"application/json\",\n    # Assuming a Bearer token authentication is required; replace 'your_token' accordingly\n    \"Authorization\": \"Bearer your_token\"\n}\n\ndef test_query_knowledge_base():\n    url = f\"{BASE_URL}/api/knowledge-base/query\"\n    payload = {\n        \"query\": \"What are the hours of operation for the clinic?\",\n        \"top_k\": 5\n    }\n    try:\n        response = requests.post(url, json=payload, headers=HEADERS, timeout=TIMEOUT)\n        # Verify status code is 200 OK\n        assert response.status_code == 200, f\"Expected status code 200 but got {response.status_code}\"\n        data = response.json()\n        # Verify response contains search results (assuming key 'results' holds them)\n        assert \"results\" in data, \"Response JSON does not contain 'results'\"\n        results = data[\"results\"]\n        # Results should be a non-empty list\n        assert isinstance(results, list), \"'results' should be a list\"\n        assert len(results) > 0, \"No search results returned from knowledge base query\"\n        # Each result should contain required fields, e.g., 'document_id' and 'score'\n        for result in results:\n            assert \"document_id\" in result, \"Result missing 'document_id'\"\n            assert \"score\" in result, \"Result missing 'score'\"\n            assert isinstance(result[\"score\"], (int, float)), \"'score' should be a number\"\n    except requests.RequestException as e:\n        assert False, f\"RequestException occurred: {e}\"\n\ntest_query_knowledge_base()",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 36, in <module>\n  File \"<string>\", line 20, in test_query_knowledge_base\nAssertionError: Expected status code 200 but got 404\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-12-17T23:32:03.399Z",
    "modified": "2025-12-17T23:32:52.446Z"
  },
  {
    "projectId": "21998609-8612-4fa1-a25d-b046ea83b4bb",
    "testId": "dff5325f-02ea-4306-bf01-3a09faa7a7a1",
    "userId": "0488a418-60a1-7056-617f-183343ba07c4",
    "title": "TC008-test_setup_vapi_integration",
    "description": "Verify that the POST /api/vapi/setup endpoint correctly configures Vapi integration settings and returns success confirmation.",
    "code": "import requests\n\nBASE_URL = \"http://localhost:3001\"\nTIMEOUT = 30\nHEADERS = {\n    \"Content-Type\": \"application/json\",\n    # If authentication is required, include here, e.g.:\n    # \"Authorization\": \"Bearer YOUR_JWT_TOKEN\"\n}\n\ndef test_setup_vapi_integration():\n    url = f\"{BASE_URL}/api/vapi/setup\"\n    payload = {}\n\n    try:\n        response = requests.post(url, json=payload, headers=HEADERS, timeout=TIMEOUT)\n        response.raise_for_status()\n    except requests.exceptions.RequestException as e:\n        assert False, f\"Request to setup Vapi integration failed: {e}\"\n\n    assert response.status_code == 200, f\"Expected status 200 but got {response.status_code}\"\n\n\ntest_setup_vapi_integration()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"<string>\", line 17, in test_setup_vapi_integration\n  File \"/var/task/requests/models.py\", line 1024, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 404 Client Error: Not Found for url: http://localhost:3001/api/vapi/setup\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 24, in <module>\n  File \"<string>\", line 19, in test_setup_vapi_integration\nAssertionError: Request to setup Vapi integration failed: 404 Client Error: Not Found for url: http://localhost:3001/api/vapi/setup\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-12-17T23:32:03.417Z",
    "modified": "2025-12-17T23:33:03.949Z"
  },
  {
    "projectId": "21998609-8612-4fa1-a25d-b046ea83b4bb",
    "testId": "13c5265d-7aa2-43a7-a3aa-1e470138ecb8",
    "userId": "0488a418-60a1-7056-617f-183343ba07c4",
    "title": "TC009-test_update_inbound_config",
    "description": "Verify that the POST /api/inbound/config endpoint updates inbound call handling configuration correctly and returns a success response.",
    "code": "import requests\n\nBASE_URL = \"http://localhost:3001\"\nTIMEOUT = 30\n\n# Example Bearer token for authentication; replace with valid token as needed\nAUTH_TOKEN = \"your_valid_jwt_token_here\"\n\nHEADERS = {\n    \"Authorization\": f\"Bearer {AUTH_TOKEN}\",\n    \"Content-Type\": \"application/json\"\n}\n\ndef test_update_inbound_config():\n    url = f\"{BASE_URL}/api/inbound/config\"\n    payload = {\n        # Example payload updating inbound call handling config with features mentioned\n        \"inboundCallHandling\": True,\n        \"callRecording\": {\n            \"enabled\": True,\n            \"storage\": \"secure\",\n            \"signedUrlExpirySeconds\": 3600\n        },\n        \"liveTranscript\": True,\n        \"callLogDashboard\": {\n            \"filters\": [\"date\", \"agent\", \"status\"],\n            \"pagination\": True,\n            \"analyticsEnabled\": True,\n            \"playbackEnabled\": True\n        },\n        \"knowledgeBaseRAG\": {\n            \"enabled\": True,\n            \"documentUpload\": True,\n            \"chunking\": True,\n            \"embedding\": True,\n            \"vectorSearch\": True\n        },\n        \"agentConfig\": {\n            \"customizeGreeting\": True,\n            \"voiceOptions\": [\"female_english\", \"male_spanish\"],\n            \"languageSupport\": [\"en-US\", \"es-ES\"]\n        },\n        \"smartEscalation\": {\n            \"enabled\": True,\n            \"sensitiveTopics\": [\"medical\"],\n            \"escalationLogging\": True\n        },\n        \"realTimeUpdates\": {\n            \"websocketEnabled\": True,\n            \"autoReconnect\": True,\n            \"idempotency\": True\n        },\n        \"auth\": {\n            \"methods\": [\"jwt\", \"google-oauth\"],\n            \"rowLevelSecurity\": True\n        },\n        \"productionDeployment\": {\n            \"providers\": [\"render\", \"vercel\"],\n            \"environmentConfig\": True,\n            \"automatedWorkflows\": True\n        }\n    }\n\n    try:\n        response = requests.post(url, headers=HEADERS, json=payload, timeout=TIMEOUT)\n    except requests.RequestException as e:\n        assert False, f\"Request to update inbound config failed: {e}\"\n\n    assert response.status_code == 200, f\"Expected status code 200 but got {response.status_code}. Response: {response.text}\"\n\n    try:\n        resp_json = response.json()\n    except ValueError:\n        assert False, \"Response is not valid JSON.\"\n\n    # Assuming the success response includes a field \"success\": true\n    assert \"success\" in resp_json, \"Response JSON missing 'success' key.\"\n    assert resp_json[\"success\"] is True, f\"Update not successful: {resp_json}\"\n\ntest_update_inbound_config()",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 80, in <module>\n  File \"<string>\", line 69, in test_update_inbound_config\nAssertionError: Expected status code 200 but got 404. Response: {\"error\":\"Not found\",\"path\":\"/api/inbound/config\"}\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-12-17T23:32:03.428Z",
    "modified": "2025-12-17T23:32:58.231Z"
  },
  {
    "projectId": "21998609-8612-4fa1-a25d-b046ea83b4bb",
    "testId": "5917aabd-57be-43ee-829c-bebb2bbb3409",
    "userId": "0488a418-60a1-7056-617f-183343ba07c4",
    "title": "TC010-test_get_founder_console_settings",
    "description": "Verify that the GET /api/founder-console/settings endpoint returns the current founder console settings with correct data and status 200.",
    "code": "import requests\n\nBASE_URL = \"http://localhost:3001\"\nTIMEOUT = 30\nHEADERS = {\n    \"Accept\": \"application/json\",\n}\n\ndef test_get_founder_console_settings():\n    url = f\"{BASE_URL}/api/founder-console/settings\"\n    try:\n        response = requests.get(url, headers=HEADERS, timeout=TIMEOUT)\n    except requests.RequestException as e:\n        assert False, f\"Request failed: {e}\"\n    assert response.status_code == 200, f\"Expected status 200 but got {response.status_code}\"\n    try:\n        data = response.json()\n    except ValueError:\n        assert False, \"Response is not valid JSON\"\n\n    expected_features = [\n        \"Inbound call handling\",\n        \"Call recording\",\n        \"Live transcript\",\n        \"Call log dashboard\",\n        \"Knowledge Base RAG\",\n        \"Agent config\",\n        \"Smart Escalation\",\n        \"Real-time updates\",\n        \"Auth\",\n        \"Production deployment\"\n    ]\n\n    normalized_keys = {k.lower().replace(' ', '').replace('-', '').replace('_', ''): v for k, v in data.items()}\n\n    checks = {}\n\n    for feature in expected_features:\n        norm_feature = feature.lower().replace(' ', '').replace('-', '').replace('_', '')\n        found = False\n        for key_norm, val in normalized_keys.items():\n            if norm_feature in key_norm and val:\n                found = True\n                break\n        checks[feature] = found\n\n    for feature, present in checks.items():\n        assert present, f\"Feature '{feature.lower()}' missing or disabled in settings response\"\n\n\ntest_get_founder_console_settings()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 51, in <module>\n  File \"<string>\", line 48, in test_get_founder_console_settings\nAssertionError: Feature 'inbound call handling' missing or disabled in settings response\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-12-17T23:32:03.437Z",
    "modified": "2025-12-17T23:33:29.826Z"
  }
]
