# ================================================================================
# Backend Environment Variables - SINGLE SOURCE OF TRUTH
# ================================================================================
# Last Updated: January 10, 2026
# Reference: /.env.template
# Copy this file to backend/.env and fill in the actual values
# DO NOT COMMIT backend/.env TO VERSION CONTROL
# ================================================================================

# ================================================================================
# CORE APPLICATION SETTINGS
# ================================================================================
NODE_ENV=development
PORT=3001
LOG_LEVEL=info
COMPANY_NAME=CallWaiting AI
CLINIC_NAME=VoxAnne

# ================================================================================
# SUPABASE CONFIGURATION (Server-side - Service Role Key)
# ================================================================================
# Reference: https://app.supabase.com/project/YOUR_PROJECT/settings/api

# Supabase Project URL
SUPABASE_URL=https://lbjymlodxprzqgtyqtcq.supabase.co

# Service Role Key - KEEP SECURE - Bypasses RLS
# ⚠️  WARNING: This is a SENSITIVE credential. Never commit to version control.
# This key bypasses Row Level Security (RLS) and should only be used server-side.
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Optional: Supabase configuration
# SUPABASE_FETCH_TIMEOUT_MS=8000
# DATABASE_URL=postgresql://user:password@host:5432/database

# ================================================================================
# BACKEND URLS
# ================================================================================
# Points to where your backend is running
BACKEND_URL=http://localhost:3001

# Frontend URL (for CORS and redirects)
FRONTEND_URL=http://localhost:3000

# CORS Origin (typically same as frontend URL)
CORS_ORIGIN=http://localhost:3000

# ================================================================================
# TWILIO SMS SERVICE - PRODUCTION APPROVED
# ================================================================================
# Status: CURRENT & VERIFIED (January 10, 2026)
# Account: VoxAnne Production
# These are the APPROVED credentials - use as-is

# Account SID (unique identifier for your Twilio account)
TWILIO_ACCOUNT_SID=...[REDACTED]...

# Auth Token (API key for Twilio - KEEP SECURE)
TWILIO_AUTH_TOKEN=...[REDACTED]...

# Twilio phone number for sending SMS (VoxAnne account)
TWILIO_PHONE_NUMBER=+18782178263

# Optional: WhatsApp number (not currently used)
# TWILIO_WHATSAPP_NUMBER=whatsapp:+1234567890

# ================================================================================
# VAPI VOICE AI SERVICE - PRODUCTION APPROVED
# ================================================================================
# Status: CURRENT & VERIFIED (January 10, 2026)
# Vapi AI voice assistant integration

# Vapi API Key (KEEP SECURE)
VAPI_API_KEY=...[REDACTED]...

# Optional: Vapi-specific configuration
# VAPI_PHONE_NUMBER_ID=your-phone-number-id
# VAPI_ASSISTANT_ID=your-assistant-id
# VAPI_WEBHOOK_SECRET=your-webhook-secret

# ================================================================================
# GOOGLE OAUTH - CALENDAR INTEGRATION
# ================================================================================
# For integrating with Google Calendar
# Reference: Google Cloud Console

# OAuth Client ID
GOOGLE_CLIENT_ID=...[REDACTED]...

# OAuth Client Secret (KEEP SECURE)
GOOGLE_CLIENT_SECRET=...[REDACTED]...

# Encryption key for storing encrypted OAuth tokens
# Generate with: openssl rand -hex 32 (must be exactly 64 hex characters)
GOOGLE_ENCRYPTION_KEY=...[REDACTED]...

# OAuth Redirect URI (must match Google Cloud Console config)
GOOGLE_REDIRECT_URI=http://localhost:3001/api/auth/google/callback

# ================================================================================
# EMAIL SERVICE (Optional)
# ================================================================================

# Resend Email Service
# RESEND_API_KEY=re_your-api-key

# Email sender address
# FROM_EMAIL=noreply@yourdomain.com

# Alternative: SMTP Configuration
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password

# ================================================================================
# OPENAI (Optional - for AI features)
# ================================================================================
# OPENAI_API_KEY=sk-proj-your-key-here

# ================================================================================
# MONITORING & ERROR TRACKING (Optional)
# ================================================================================
# Sentry for error tracking and monitoring
# SENTRY_DSN=https://your-key@sentry.io/your-project-id

# ================================================================================
# WEBSOCKET & REAL-TIME CONFIGURATION
# ================================================================================

# WebSocket URL (for frontend to connect)
# WS_URL=ws://localhost:3001

# Maximum buffered bytes for WebSocket connections
WS_MAX_BUFFERED_BYTES=1000000

# Allow development WebSocket bypass (testing only - NEVER in production)
# ALLOW_DEV_WS_BYPASS=false

# ================================================================================
# RECORDING & MEDIA HANDLING
# ================================================================================

# Recording URL expiry time in seconds
# RECORDING_URL_EXPIRY_SECONDS=3600

# Recording download timeout in milliseconds
# RECORDING_DOWNLOAD_TIMEOUT_MS=30000

# ================================================================================
# ENCRYPTION KEYS
# ================================================================================

# General encryption key for sensitive data
# Generate with: openssl rand -hex 32
# ENCRYPTION_KEY=your-256-bit-hex-key-here

# Use Supabase Vault for secret storage
# USE_SUPABASE_VAULT=false

# ================================================================================
# DEVELOPMENT VARIABLES (Local development only - NEVER in production)
# ================================================================================

# Development JWT token bypass (for testing without auth)
# DEV_JWT_TOKEN=your-test-jwt-token
# DEV_USER_ID=test-user-id
# DEV_USER_EMAIL=test@example.com

# Debug flags (enable verbose logging)
# DEBUG_VAPI=false
# DEBUG_WEBSOCKET=false
# DEBUG_WEB_VOICE_BRIDGE=false
# EXPOSE_DEBUG_INFO=false

# ================================================================================
# DEPLOYMENT-SPECIFIC (Automatically set during deployment)
# ================================================================================

# Render.com configuration (auto-populated)
# RENDER_EXTERNAL_URL=https://your-backend.onrender.com

# Custom webhook URL
# WEBHOOK_URL=https://your-backend.onrender.com/api/webhooks

# ================================================================================
# NOTES
# ================================================================================
# - All credentials above are the SINGLE SOURCE OF TRUTH
# - Never commit actual values to version control
# - Use deployment platform's secret management (Render secrets, GitHub Actions, etc.)
# - Reference /.env.template for complete documentation
# - If you find hardcoded values elsewhere in the codebase, update them to use
#   variables from this file
