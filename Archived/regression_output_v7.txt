
> voxanne-backend@1.0.0 test:regression
> jest --config jest.regression.config.js

  console.log
    [WebSocket] Server initialized for /api/web-voice/*

      at Object.log (src/server.ts:342:9)

  console.log
    [WebSocket] Server initialized for /ws/live-calls/*

      at Object.log (src/server.ts:346:9)

  console.log
    Test Agent ID: undefined

      at Object.<anonymous> (src/tests/regression/regression.test.ts:126:29)

  console.log
    Agents Response: [
      {
        "id": "3a021138-1cce-44e5-84fb-f35b68c87e7a",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "CallWaiting AI Inbound",
        "voice": {
          "voiceId": "Paige",
          "provider": "vapi"
        },
        "createdAt": "2026-01-14T19:16:03.313Z",
        "updatedAt": "2026-01-14T19:16:03.313Z",
        "model": {
          "model": "gpt-4",
          "messages": [
            {
              "role": "system"
            }
          ],
          "provider": "openai"
        },
        "recordingEnabled": true,
        "firstMessage": "Thank you for calling Bright Smile Dental. This is Alex. Are you calling to schedule an appointment or do you have a dental concern I can help with?",
        "transcriber": {
          "model": "nova-2",
          "language": "en-US",
          "provider": "deepgram"
        },
        "serverMessages": [
          "function-call",
          "hang",
          "status-update",
          "end-of-call-report",
          "transcript"
        ],
        "serverUrl": "https://sobriquetical-zofia-abysmally.ngrok-free.dev/api/webhooks/vapi",
        "maxDurationSeconds": 300,
        "isServerUrlSecretSet": false
      },
      {
        "id": "d76ebddc-b215-4c27-97a9-b57df5d68e23",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "CallWaiting AI Inbound",
        "voice": {
          "voiceId": "Paige",
          "provider": "vapi"
        },
        "createdAt": "2026-01-14T14:31:19.876Z",
        "updatedAt": "2026-01-14T14:31:19.876Z",
        "model": {
          "model": "gpt-4",
          "messages": [
            {
              "role": "system"
            }
          ],
          "provider": "openai"
        },
        "recordingEnabled": true,
        "firstMessage": "Thank you for calling Bright Smile Dental. This is Alex. Are you calling to schedule an appointment or do you have a dental concern I can help with?",
        "transcriber": {
          "model": "nova-2",
          "language": "en-US",
          "provider": "deepgram"
        },
        "serverMessages": [
          "function-call",
          "hang",
          "status-update",
          "end-of-call-report",
          "transcript"
        ],
        "serverUrl": "https://sobriquetical-zofia-abysmally.ngrok-free.dev/api/webhooks/vapi",
        "maxDurationSeconds": 300,
        "isServerUrlSecretSet": false
      },
      {
        "id": "45297412-83d5-4f14-9301-e71de384d19d",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "CallWaiting AI Inbound",
        "voice": {
          "voiceId": "Paige",
          "provider": "vapi"
        },
        "createdAt": "2026-01-14T10:21:43.385Z",
        "updatedAt": "2026-01-14T10:21:43.385Z",
        "model": {
          "model": "gpt-4",
          "messages": [
            {
              "role": "system"
            }
          ],
          "provider": "openai"
        },
        "recordingEnabled": true,
        "firstMessage": "Thank you for calling Bright Smile Dental. This is Alex. Are you calling to schedule an appointment or do you have a dental concern I can help with?",
        "transcriber": {
          "model": "nova-2",
          "language": "en-US",
          "provider": "deepgram"
        },
        "serverMessages": [
          "function-call",
          "hang",
          "status-update",
          "end-of-call-report",
          "transcript"
        ],
        "serverUrl": "https://sobriquetical-zofia-abysmally.ngrok-free.dev/api/webhooks/vapi",
        "maxDurationSeconds": 300,
        "isServerUrlSecretSet": false
      },
      {
        "id": "9cd360bd-92bc-4777-a007-35fda5e06b3a",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "CallWaiting AI Inbound",
        "voice": {
          "voiceId": "Paige",
          "provider": "vapi"
        },
        "createdAt": "2026-01-14T08:07:20.643Z",
        "updatedAt": "2026-01-14T08:07:20.643Z",
        "model": {
          "model": "gpt-4",
          "messages": [
            {
              "role": "system"
            }
          ],
          "provider": "openai"
        },
        "recordingEnabled": true,
        "firstMessage": "Thank you for calling Bright Smile Dental. This is Alex. Are you calling to schedule an appointment or do you have a dental concern I can help with?",
        "transcriber": {
          "model": "nova-2",
          "language": "en-US",
          "provider": "deepgram"
        },
        "serverMessages": [
          "function-call",
          "hang",
          "status-update",
          "end-of-call-report",
          "transcript"
        ],
        "serverUrl": "https://sobriquetical-zofia-abysmally.ngrok-free.dev/api/webhooks/vapi",
        "maxDurationSeconds": 300,
        "isServerUrlSecretSet": false
      },
      {
        "id": "30b9332d-ba09-4beb-80a2-396353ea81d0",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Voxanne Booking Agent - Phase 1 Test",
        "voice": {
          "voiceId": "Kylie",
          "provider": "vapi"
        },
        "createdAt": "2026-01-12T13:41:43.969Z",
        "updatedAt": "2026-01-12T13:41:43.969Z",
        "model": {
          "model": "gpt-4o",
          "messages": [
            {
              "role": "system",
              "content": "You are Voxanne, an AI appointment booking assistant for clinics and medical spas. Your CRITICAL job is to:\n\n1. GREET warmly and professionally\n2. LISTEN to patient needs\n3. INVOKE check_availability tool with tenant ID and date\n4. PRESENT available times to patient\n5. INVOKE reserve_slot tool when patient chooses a time\n6. INVOKE send_sms_reminder tool to send confirmation\n7. CONFIRM booking and end call professionally\n\nIMPORTANT:\n- Always ask for patient name and phone before reserving\n- Use tools in order: check → reserve → SMS\n- Be warm, patient, never rushed\n- Handle objections with empathy"
            }
          ],
          "provider": "openai"
        },
        "firstMessage": "Thank you for calling. This is Voxanne, your appointment scheduling assistant. How can I help you book an appointment today?",
        "transcriber": {
          "model": "nova-2",
          "language": "en-US",
          "provider": "deepgram"
        },
        "isServerUrlSecretSet": false
      },
      {
        "id": "435d0c60-819e-4669-8414-b1d28782348b",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Voxanne Booking Agent - Phase 1 Test",
        "voice": {
          "voiceId": "Kylie",
          "provider": "vapi"
        },
        "createdAt": "2026-01-12T13:41:39.247Z",
        "updatedAt": "2026-01-12T13:41:39.247Z",
        "model": {
          "model": "gpt-4o",
          "messages": [
            {
              "role": "system",
              "content": "You are Voxanne, an AI appointment booking assistant for clinics and medical spas. Your CRITICAL job is to:\n\n1. GREET warmly and professionally\n2. LISTEN to patient needs\n3. INVOKE check_availability tool with tenant ID and date\n4. PRESENT available times to patient\n5. INVOKE reserve_slot tool when patient chooses a time\n6. INVOKE send_sms_reminder tool to send confirmation\n7. CONFIRM booking and end call professionally\n\nIMPORTANT:\n- Always ask for patient name and phone before reserving\n- Use tools in order: check → reserve → SMS\n- Be warm, patient, never rushed\n- Handle objections with empathy"
            }
          ],
          "provider": "openai"
        },
        "firstMessage": "Thank you for calling. This is Voxanne, your appointment scheduling assistant. How can I help you book an appointment today?",
        "transcriber": {
          "model": "nova-2",
          "language": "en-US",
          "provider": "deepgram"
        },
        "isServerUrlSecretSet": false
      },
      {
        "id": "8bc1402f-2967-4c9e-9fc5-70b002afab34",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Voxanne (Outbound SDR)",
        "voice": {
          "voiceId": "Kylie",
          "provider": "vapi",
          "fallbackPlan": {
            "voices": [
              {
                "model": "eleven_multilingual_v2",
                "voiceId": "sarah",
                "provider": "11labs",
                "stability": 0.5,
                "similarityBoost": 0.75
              }
            ]
          }
        },
        "createdAt": "2026-01-12T00:12:06.327Z",
        "updatedAt": "2026-01-12T11:31:28.250Z",
        "model": {
          "model": "gpt-4o",
          "messages": [
            {
              "role": "system",
              "content": "\nYou are Voxanne, a professional AI assistant for Test Clinic.\n\nYour primary job is to help patients book appointments over the phone in a natural, conversational way.\n\n═══════════════════════════════════════════════════════════════════════════════\nCRITICAL: TOOL INVOCATION RULES (YOU MUST FOLLOW THIS EXACTLY)\n═══════════════════════════════════════════════════════════════════════════════\n\nYou have access to THREE tools that you MUST use in this exact order:\n\n### STEP 1: CHECK AVAILABILITY (MANDATORY FIRST)\nWhen a patient says they want to book or when they mention a preferred date:\n- CALL: check_availability(tenantId=\"d5bc3d69-996a-445b-a234-494040dff620\", date=\"YYYY-MM-DD\", serviceType=\"consultation\")\n- WAIT for the response showing available slots\n- SPEAK: \"Here are the times I have available on [date]: [times]. Which works best for you?\"\n- ALWAYS use ISO date format (YYYY-MM-DD)\n\n### STEP 2: RESERVE SLOT (AFTER PATIENT PICKS TIME)\nOnce patient confirms a specific time slot:\n- CALL: reserve_slot(tenantId=\"d5bc3d69-996a-445b-a234-494040dff620\", slotId=\"[THE_EXACT_SLOT_ID]\", patientPhone=\"[THEIR_PHONE]\", patientName=\"[THEIR_NAME]\")\n- WAIT for the response confirming the reservation\n- SPEAK: \"Perfect! I've held that appointment for you at [time] on [date]. Let me send you a confirmation.\"\n\n### STEP 3: SEND SMS CONFIRMATION (AFTER RESERVATION SUCCESS)\nOnce the slot is reserved:\n- CALL: send_sms_reminder(tenantId=\"d5bc3d69-996a-445b-a234-494040dff620\", phoneNumber=\"[THEIR_PHONE]\", messageType=\"confirmation\", appointmentId=\"[IF_AVAILABLE]\")\n- WAIT for SMS delivery confirmation\n- SPEAK: \"Great! I've sent a confirmation text to [phone]. You're all set!\"\n\n═══════════════════════════════════════════════════════════════════════════════\nTEMPORAL CONTEXT (USE FOR NATURAL CONVERSATION)\n═══════════════════════════════════════════════════════════════════════════════\n\nCurrent date: January 12\nCurrent time: 2026 at 06:31 AM\nTimezone: America/New_York\nBusiness hours: 9 AM - 6 PM, Monday-Friday\n\nWhen patient says \"tomorrow\":\n- Today is January 12\n- Tomorrow is the next business day (avoid weekends/holidays if possible)\n- Always CONFIRM back: \"That's [explicit date], is that right?\"\n\nWhen current time is after business hours (e.g., after 6 PM):\n- Say: \"We're closed right now, but I can book you for 9 AM - 6 PM, Monday-Friday tomorrow or another day.\"\n\nWhen patient asks \"What's available?\":\n- DO NOT say \"Let me check\" - call check_availability immediately with appropriate date\n- Provide 2-3 options from the response\n\n═══════════════════════════════════════════════════════════════════════════════\nCONVERSATION RULES\n═══════════════════════════════════════════════════════════════════════════════\n\n1. OPENING\n   - \"Hi! Thank you for calling Test Clinic. This is Voxanne. How can I help you today?\"\n   - Listen for: booking intent, preferred dates, service type\n\n2. GATHERING INFORMATION (before checking availability)\n   - Get: Full name, phone number, preferred date/time window\n   - Ask only ONE question at a time\n   - Keep responses conversational and warm\n\n3. CHECKING AVAILABILITY\n   - Once you have a date preference, IMMEDIATELY call check_availability\n   - Do NOT ask \"Would you like me to check?\" - just check and report back\n   - Offer 2-3 slots, ask which works best\n\n4. CONFIRMING RESERVATION\n   - Repeat back: \"So that's [service] on [day], [date] at [time] with [provider if known]?\"\n   - Get patient to say \"yes\" before calling reserve_slot\n\n5. SMS CONFIRMATION\n   - After reservation succeeds, send SMS immediately\n   - Confirm: \"You'll receive a text with all the details\"\n\n6. CLOSING\n   - \"Is there anything else I can help you with?\"\n   - \"Thanks for calling! See you on [date]!\"\n\n═══════════════════════════════════════════════════════════════════════════════\nEDGE CASES & ERROR HANDLING\n═══════════════════════════════════════════════════════════════════════════════\n\nIf check_availability returns NO SLOTS:\n- \"I'm sorry, we're fully booked on [date]. Would [alternative date] work for you?\"\n- Try alternative dates without being asked\n\nIf reserve_slot fails (slot taken by another call):\n- \"Oh, it looks like someone just booked that time. Let me show you other options.\"\n- Offer new slots from a fresh check_availability call\n\nIf send_sms fails:\n- \"I'm having trouble with the text - can I call you instead with the details?\"\n- Do NOT fail the entire booking\n\nIf patient hesitates:\n- \"Take your time. I'll hold this slot for 5 minutes while you think about it.\"\n- Reassure them: \"No commitment until you confirm.\"\n\n═══════════════════════════════════════════════════════════════════════════════\nTONE & PERSONALITY\n═══════════════════════════════════════════════════════════════════════════════\n\n- Sound like a real person, not a robot\n- Be warm, patient, and professional\n- Keep sentences short (max 2 per turn)\n- Ask questions naturally (\"What day works best for you?\" not \"Please state your preferred date\")\n- Use contractions (\"I've\" not \"I have\")\n- Smile in your voice!\n\n═══════════════════════════════════════════════════════════════════════════════\nCRITICAL REMINDERS\n═══════════════════════════════════════════════════════════════════════════════\n\n✅ DO:\n- Call tools in the exact order shown above\n- Use parameter names EXACTLY as shown (tenantId, slotId, phoneNumber, etc.)\n- Wait for tool responses before continuing\n- Confirm dates back in spoken format (\"That's Thursday, January 16th\")\n- Collect full phone number (with area code)\n- Always use d5bc3d69-996a-445b-a234-494040dff620 as the tenantId parameter\n\n❌ DON'T:\n- Skip the tools or \"pretend\" to book an appointment\n- Try to book without calling reserve_slot first\n- Forget to send SMS after successful reservation\n- Assume you know the availability - always call check_availability\n- Use 24-hour time format when speaking (say \"2 PM\" not \"14:00\")\n- Rush the patient or sound pushy\n\n═══════════════════════════════════════════════════════════════════════════════\nYOU ARE READY. TAKE THE FIRST CALL.\n═══════════════════════════════════════════════════════════════════════════════\n"
            }
          ],
          "provider": "openai"
        },
        "recordingEnabled": true,
        "firstMessage": "hello",
        "transcriber": {
          "model": "nova-2",
          "language": "en-US",
          "provider": "deepgram",
          "fallbackPlan": {
            "transcribers": [
              {
                "model": "flux-general-en",
                "language": "en",
                "provider": "deepgram"
              }
            ]
          }
        },
        "serverMessages": [
          "function-call",
          "hang",
          "status-update",
          "end-of-call-report",
          "transcript"
        ],
        "serverUrl": "https://sobriquetical-zofia-abysmally.ngrok-free.dev/api/webhooks/vapi",
        "maxDurationSeconds": 300,
        "server": {
          "url": "https://sobriquetical-zofia-abysmally.ngrok-free.dev/api/webhooks/vapi",
          "timeoutSeconds": 20
        },
        "isServerUrlSecretSet": false
      },
      {
        "id": "fcb012ad-b430-4c1b-8991-02380bf37934",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Voxanne (Inbound Coordinator)",
        "voice": {
          "voiceId": "Paige",
          "provider": "vapi"
        },
        "createdAt": "2026-01-11T22:08:40.341Z",
        "updatedAt": "2026-01-11T22:08:40.341Z",
        "model": {
          "model": "gpt-4",
          "messages": [
            {
              "role": "system"
            }
          ],
          "provider": "openai"
        },
        "recordingEnabled": true,
        "firstMessage": "Thank you for calling Wellness Alliance Medical Group. This is Robin, your healthcare coordinator. This call is protected under HIPAA privacy regulations. How may I help you today?",
        "transcriber": {
          "model": "nova-2",
          "language": "en-US",
          "provider": "deepgram"
        },
        "serverMessages": [
          "function-call",
          "hang",
          "status-update",
          "end-of-call-report",
          "transcript"
        ],
        "serverUrl": "https://sobriquetical-zofia-abysmally.ngrok-free.dev/api/webhooks/vapi",
        "maxDurationSeconds": 300,
        "isServerUrlSecretSet": false
      },
      {
        "id": "90ba8e68-410a-4f37-9a94-acc96b425700",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Manual Sync Test Agent",
        "voice": {
          "voiceId": "Paige",
          "provider": "vapi"
        },
        "createdAt": "2026-01-11T22:04:03.783Z",
        "updatedAt": "2026-01-11T22:04:03.783Z",
        "model": {
          "model": "gpt-4",
          "toolIds": [
            "b8e1c160-af2a-4854-b143-2771c8da59f8"
          ],
          "messages": [
            {
              "role": "system",
              "content": "You are a test assistant. Verified at 2026-01-11T22:03:59.662Z"
            }
          ],
          "provider": "openai"
        },
        "firstMessage": "Hello, this is a test.",
        "transcriber": {
          "model": "nova-2",
          "language": "en",
          "provider": "deepgram"
        },
        "isServerUrlSecretSet": false
      },
      {
        "id": "27100139-f8a3-41aa-ba61-1d04a844cb01",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Voxanne (Inbound Coordinator)",
        "voice": {
          "voiceId": "Paige",
          "provider": "vapi"
        },
        "createdAt": "2026-01-11T21:58:57.874Z",
        "updatedAt": "2026-01-11T21:58:57.874Z",
        "model": {
          "model": "gpt-4",
          "messages": [
            {
              "role": "system"
            }
          ],
          "provider": "openai"
        },
        "recordingEnabled": true,
        "firstMessage": "Thank you for calling Wellness Alliance Medical Group. This is Robin, your healthcare coordinator. This call is protected under HIPAA privacy regulations. How may I help you today?",
        "transcriber": {
          "model": "nova-2",
          "language": "en-US",
          "provider": "deepgram"
        },
        "serverMessages": [
          "function-call",
          "hang",
          "status-update",
          "end-of-call-report",
          "transcript"
        ],
        "serverUrl": "https://sobriquetical-zofia-abysmally.ngrok-free.dev/api/webhooks/vapi",
        "maxDurationSeconds": 300,
        "isServerUrlSecretSet": false
      },
      {
        "id": "3f889b0a-b329-431c-a89b-3663f3adce01",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Voxanne (Inbound Coordinator)",
        "voice": {
          "voiceId": "Paige",
          "provider": "vapi"
        },
        "createdAt": "2026-01-11T21:55:59.188Z",
        "updatedAt": "2026-01-11T21:55:59.188Z",
        "model": {
          "model": "gpt-4",
          "messages": [
            {
              "role": "system"
            }
          ],
          "provider": "openai"
        },
        "recordingEnabled": true,
        "firstMessage": "Thank you for calling The Aesthetic Institute. This is Sarah, your patient care coordinator. How may I assist you privately today?",
        "transcriber": {
          "model": "nova-2",
          "language": "en-US",
          "provider": "deepgram"
        },
        "serverMessages": [
          "function-call",
          "hang",
          "status-update",
          "end-of-call-report",
          "transcript"
        ],
        "serverUrl": "https://sobriquetical-zofia-abysmally.ngrok-free.dev/api/webhooks/vapi",
        "maxDurationSeconds": 300,
        "isServerUrlSecretSet": false
      },
      {
        "id": "bcdf9483-05d5-4c1f-9dd7-0aee15cc61a1",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Manual Sync Test Agent",
        "voice": {
          "voiceId": "Paige",
          "provider": "vapi"
        },
        "createdAt": "2026-01-11T21:47:54.032Z",
        "updatedAt": "2026-01-11T21:47:54.032Z",
        "model": {
          "model": "gpt-4",
          "toolIds": [
            "51f0f29e-7c67-46bc-a5b0-31ce043ed4fa"
          ],
          "messages": [
            {
              "role": "system",
              "content": "You are a test assistant. Verified at 2026-01-11T21:47:50.900Z"
            }
          ],
          "provider": "openai"
        },
        "firstMessage": "Hello, this is a test.",
        "transcriber": {
          "model": "nova-2",
          "language": "en",
          "provider": "deepgram"
        },
        "isServerUrlSecretSet": false
      },
      {
        "id": "dfd70e85-27f4-4e51-93a3-1fb7d22e0bbd",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Voxanne (Inbound Coordinator)",
        "voice": {
          "voiceId": "Paige",
          "provider": "vapi"
        },
        "createdAt": "2026-01-11T21:42:33.493Z",
        "updatedAt": "2026-01-11T21:42:33.493Z",
        "model": {
          "model": "gpt-4",
          "messages": [
            {
              "role": "system"
            }
          ],
          "provider": "openai"
        },
        "recordingEnabled": true,
        "firstMessage": "Thank you for calling Bright Smile Dental. This is Alex. Are you calling to schedule an appointment or do you have a dental concern I can help with?",
        "transcriber": {
          "model": "nova-2",
          "language": "en-US",
          "provider": "deepgram"
        },
        "serverMessages": [
          "function-call",
          "hang",
          "status-update",
          "end-of-call-report",
          "transcript"
        ],
        "serverUrl": "https://sobriquetical-zofia-abysmally.ngrok-free.dev/api/webhooks/vapi",
        "maxDurationSeconds": 300,
        "isServerUrlSecretSet": false
      },
      {
        "id": "d9d0a5ea-1948-4f48-b355-48a6eff84d4f",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Voxanne (Inbound Coordinator)",
        "voice": {
          "voiceId": "Paige",
          "provider": "vapi"
        },
        "createdAt": "2026-01-11T21:33:23.412Z",
        "updatedAt": "2026-01-11T21:33:23.412Z",
        "model": {
          "model": "gpt-4",
          "messages": [
            {
              "role": "system"
            }
          ],
          "provider": "openai"
        },
        "recordingEnabled": true,
        "firstMessage": "Thank you for calling Bright Smile Dental. This is Alex. Are you calling to schedule an appointment or do you have a dental concern I can help with?",
        "transcriber": {
          "model": "nova-2",
          "language": "en-US",
          "provider": "deepgram"
        },
        "serverMessages": [
          "function-call",
          "hang",
          "status-update",
          "end-of-call-report",
          "transcript"
        ],
        "serverUrl": "https://sobriquetical-zofia-abysmally.ngrok-free.dev/api/webhooks/vapi",
        "maxDurationSeconds": 300,
        "isServerUrlSecretSet": false
      },
      {
        "id": "569b800c-9433-459d-85b1-cdcfb2bf30d3",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Voxanne (Inbound Coordinator)",
        "voice": {
          "voiceId": "Paige",
          "provider": "vapi"
        },
        "createdAt": "2026-01-11T20:35:16.464Z",
        "updatedAt": "2026-01-11T20:35:16.464Z",
        "functions": [
          {
            "name": "send_demo_email",
            "description": "Send a demo video via email to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_email": {
                  "description": "The prospect's email address",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_email",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_whatsapp",
            "description": "Send a demo video via WhatsApp to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_sms",
            "description": "Send a demo video via SMS to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          }
        ],
        "model": {
          "model": "gpt-4",
          "messages": [
            {
              "role": "system"
            }
          ],
          "provider": "openai"
        },
        "recordingEnabled": true,
        "firstMessage": "Thank you for calling Serenity Medspa. This is Voxanne, your aesthetic concierge. How may I assist you with your beauty and wellness journey today?",
        "transcriber": {
          "model": "nova-2",
          "language": "en-US",
          "provider": "deepgram"
        },
        "serverMessages": [
          "function-call",
          "hang",
          "status-update",
          "end-of-call-report",
          "transcript"
        ],
        "serverUrl": "https://sobriquetical-zofia-abysmally.ngrok-free.dev/api/webhooks/vapi",
        "maxDurationSeconds": 300,
        "isServerUrlSecretSet": false
      },
      {
        "id": "29d90931-78f7-45a2-8b2d-3ef25e7500f6",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Voxanne (Inbound Coordinator)",
        "voice": {
          "voiceId": "Paige",
          "provider": "vapi"
        },
        "createdAt": "2026-01-11T20:23:01.081Z",
        "updatedAt": "2026-01-11T20:23:01.081Z",
        "functions": [
          {
            "name": "send_demo_email",
            "description": "Send a demo video via email to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_email": {
                  "description": "The prospect's email address",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_email",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_whatsapp",
            "description": "Send a demo video via WhatsApp to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_sms",
            "description": "Send a demo video via SMS to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          }
        ],
        "model": {
          "model": "gpt-4",
          "messages": [
            {
              "role": "system"
            }
          ],
          "provider": "openai"
        },
        "recordingEnabled": true,
        "firstMessage": "Thank you for calling Serenity Medspa. This is Voxanne, your aesthetic concierge. How may I assist you with your beauty and wellness journey today?",
        "transcriber": {
          "model": "nova-2",
          "language": "en-US",
          "provider": "deepgram"
        },
        "serverMessages": [
          "function-call",
          "hang",
          "status-update",
          "end-of-call-report",
          "transcript"
        ],
        "serverUrl": "https://sobriquetical-zofia-abysmally.ngrok-free.dev/api/webhooks/vapi",
        "maxDurationSeconds": 300,
        "isServerUrlSecretSet": false
      },
      {
        "id": "a19c69d0-8e83-4960-9713-0c64cc4d3324",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Voxanne Verification Agent",
        "createdAt": "2026-01-11T20:16:17.357Z",
        "updatedAt": "2026-01-11T20:16:17.357Z",
        "model": {
          "model": "gpt-4",
          "toolIds": [
            "b81e14c6-eb73-4884-b3ca-ad5a38e5f257"
          ],
          "messages": [
            {
              "role": "system",
              "content": "You are a helpful assistant."
            }
          ],
          "provider": "openai"
        },
        "isServerUrlSecretSet": false
      },
      {
        "id": "5363ae0b-7966-46e1-9895-52fc01d22635",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Voxanne (Inbound Coordinator)",
        "voice": {
          "voiceId": "Paige",
          "provider": "vapi"
        },
        "createdAt": "2026-01-11T19:23:30.342Z",
        "updatedAt": "2026-01-11T19:23:30.342Z",
        "functions": [
          {
            "name": "send_demo_email",
            "description": "Send a demo video via email to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_email": {
                  "description": "The prospect's email address",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_email",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_whatsapp",
            "description": "Send a demo video via WhatsApp to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_sms",
            "description": "Send a demo video via SMS to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          }
        ],
        "model": {
          "model": "gpt-4",
          "messages": [
            {
              "role": "system"
            }
          ],
          "provider": "openai"
        },
        "recordingEnabled": true,
        "firstMessage": "Thank you for calling Serenity Medspa. This is Aura, your aesthetic concierge. How may I assist you with your beauty and wellness journey today?",
        "transcriber": {
          "model": "nova-2",
          "language": "en-US",
          "provider": "deepgram"
        },
        "serverMessages": [
          "function-call",
          "hang",
          "status-update",
          "end-of-call-report",
          "transcript"
        ],
        "serverUrl": "https://sobriquetical-zofia-abysmally.ngrok-free.dev/api/webhooks/vapi",
        "maxDurationSeconds": 300,
        "isServerUrlSecretSet": false
      },
      {
        "id": "4cfcfe7f-f4ea-47bd-95cc-ba00d869ff8c",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Voxanne (Inbound Coordinator)",
        "voice": {
          "voiceId": "Paige",
          "provider": "vapi"
        },
        "createdAt": "2026-01-11T19:22:50.023Z",
        "updatedAt": "2026-01-11T19:22:50.023Z",
        "functions": [
          {
            "name": "send_demo_email",
            "description": "Send a demo video via email to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_email": {
                  "description": "The prospect's email address",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_email",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_whatsapp",
            "description": "Send a demo video via WhatsApp to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_sms",
            "description": "Send a demo video via SMS to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          }
        ],
        "model": {
          "model": "gpt-4",
          "messages": [
            {
              "role": "system"
            }
          ],
          "provider": "openai"
        },
        "recordingEnabled": true,
        "firstMessage": "Thank you for calling Serenity Medspa. This is Aura, your aesthetic concierge. How may I assist you with your beauty and wellness journey today?",
        "transcriber": {
          "model": "nova-2",
          "language": "en-US",
          "provider": "deepgram"
        },
        "serverMessages": [
          "function-call",
          "hang",
          "status-update",
          "end-of-call-report",
          "transcript"
        ],
        "serverUrl": "https://sobriquetical-zofia-abysmally.ngrok-free.dev/api/webhooks/vapi",
        "maxDurationSeconds": 300,
        "isServerUrlSecretSet": false
      },
      {
        "id": "2736ef49-51d2-428b-88c7-8181c3132f95",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Voxanne (Inbound Coordinator)",
        "voice": {
          "voiceId": "Paige",
          "provider": "vapi"
        },
        "createdAt": "2026-01-11T19:07:03.298Z",
        "updatedAt": "2026-01-11T19:07:03.298Z",
        "functions": [
          {
            "name": "send_demo_email",
            "description": "Send a demo video via email to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_email": {
                  "description": "The prospect's email address",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_email",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_whatsapp",
            "description": "Send a demo video via WhatsApp to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_sms",
            "description": "Send a demo video via SMS to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          }
        ],
        "model": {
          "model": "gpt-4",
          "messages": [
            {
              "role": "system"
            }
          ],
          "provider": "openai"
        },
        "recordingEnabled": true,
        "firstMessage": "Thank you for calling Serenity Medspa. This is Aura, your aesthetic concierge. How may I assist you with your beauty and wellness journey today?",
        "transcriber": {
          "model": "nova-2",
          "language": "en-US",
          "provider": "deepgram"
        },
        "serverMessages": [
          "function-call",
          "hang",
          "status-update",
          "end-of-call-report",
          "transcript"
        ],
        "serverUrl": "https://sobriquetical-zofia-abysmally.ngrok-free.dev/api/webhooks/vapi",
        "maxDurationSeconds": 300,
        "isServerUrlSecretSet": false
      },
      {
        "id": "bd0bcf56-0500-494f-bc07-4fc405adb4f0",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Voxanne (Inbound Coordinator)",
        "voice": {
          "voiceId": "Paige",
          "provider": "vapi"
        },
        "createdAt": "2026-01-11T19:04:26.432Z",
        "updatedAt": "2026-01-11T19:04:26.432Z",
        "functions": [
          {
            "name": "send_demo_email",
            "description": "Send a demo video via email to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_email": {
                  "description": "The prospect's email address",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_email",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_whatsapp",
            "description": "Send a demo video via WhatsApp to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_sms",
            "description": "Send a demo video via SMS to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          }
        ],
        "model": {
          "model": "gpt-4",
          "messages": [
            {
              "role": "system"
            }
          ],
          "provider": "openai"
        },
        "recordingEnabled": true,
        "firstMessage": "Thank you for calling Serenity Medspa. This is Aura, your aesthetic concierge. How may I assist you with your beauty and wellness journey today?",
        "transcriber": {
          "model": "nova-2",
          "language": "en-US",
          "provider": "deepgram"
        },
        "serverMessages": [
          "function-call",
          "hang",
          "status-update",
          "end-of-call-report",
          "transcript"
        ],
        "serverUrl": "https://sobriquetical-zofia-abysmally.ngrok-free.dev/api/webhooks/vapi",
        "maxDurationSeconds": 300,
        "isServerUrlSecretSet": false
      },
      {
        "id": "4311c5bb-e0d9-4ee6-a5ea-d214bcee176f",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Voxanne (Inbound Coordinator)",
        "voice": {
          "voiceId": "Paige",
          "provider": "vapi"
        },
        "createdAt": "2026-01-11T18:59:58.378Z",
        "updatedAt": "2026-01-11T18:59:58.378Z",
        "functions": [
          {
            "name": "send_demo_email",
            "description": "Send a demo video via email to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_email": {
                  "description": "The prospect's email address",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_email",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_whatsapp",
            "description": "Send a demo video via WhatsApp to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_sms",
            "description": "Send a demo video via SMS to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          }
        ],
        "model": {
          "model": "gpt-4",
          "messages": [
            {
              "role": "system"
            }
          ],
          "provider": "openai"
        },
        "recordingEnabled": true,
        "firstMessage": "Thank you for calling Serenity Medspa. This is Aura, your aesthetic concierge. How may I assist you with your beauty and wellness journey today?",
        "transcriber": {
          "model": "nova-2",
          "language": "en-US",
          "provider": "deepgram"
        },
        "serverMessages": [
          "function-call",
          "hang",
          "status-update",
          "end-of-call-report",
          "transcript"
        ],
        "serverUrl": "https://sobriquetical-zofia-abysmally.ngrok-free.dev/api/webhooks/vapi",
        "maxDurationSeconds": 300,
        "isServerUrlSecretSet": false
      },
      {
        "id": "c18d47d5-1948-484a-be7c-7e042e2cc2a3",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Voxanne (Outbound SDR)",
        "voice": {
          "voiceId": "Paige",
          "provider": "vapi"
        },
        "createdAt": "2026-01-11T18:51:10.666Z",
        "updatedAt": "2026-01-11T18:51:10.666Z",
        "functions": [
          {
            "name": "send_demo_email",
            "description": "Send a demo video via email to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_email": {
                  "description": "The prospect's email address",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_email",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_whatsapp",
            "description": "Send a demo video via WhatsApp to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_sms",
            "description": "Send a demo video via SMS to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          }
        ],
        "model": {
          "model": "gpt-4",
          "messages": [
            {
              "role": "system"
            }
          ],
          "provider": "openai"
        },
        "recordingEnabled": true,
        "firstMessage": "hi",
        "transcriber": {
          "model": "nova-2",
          "language": "en-US",
          "provider": "deepgram"
        },
        "serverMessages": [
          "function-call",
          "hang",
          "status-update",
          "end-of-call-report",
          "transcript"
        ],
        "serverUrl": "https://sobriquetical-zofia-abysmally.ngrok-free.dev/api/webhooks/vapi",
        "maxDurationSeconds": 300,
        "isServerUrlSecretSet": false
      },
      {
        "id": "1ec8c990-d886-4996-9fd8-d01e9ded02ec",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Voxanne (Inbound Coordinator)",
        "voice": {
          "voiceId": "Paige",
          "provider": "vapi"
        },
        "createdAt": "2026-01-11T18:43:44.476Z",
        "updatedAt": "2026-01-11T18:43:44.476Z",
        "functions": [
          {
            "name": "send_demo_email",
            "description": "Send a demo video via email to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_email": {
                  "description": "The prospect's email address",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_email",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_whatsapp",
            "description": "Send a demo video via WhatsApp to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_sms",
            "description": "Send a demo video via SMS to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          }
        ],
        "model": {
          "model": "gpt-4",
          "messages": [
            {
              "role": "system"
            }
          ],
          "provider": "openai"
        },
        "recordingEnabled": true,
        "firstMessage": "Thank you for calling Serenity Medspa. This is Aura, your aesthetic concierge. How may I assist you with your beauty and wellness journey today?",
        "transcriber": {
          "model": "nova-2",
          "language": "en-US",
          "provider": "deepgram"
        },
        "serverMessages": [
          "function-call",
          "hang",
          "status-update",
          "end-of-call-report",
          "transcript"
        ],
        "serverUrl": "https://sobriquetical-zofia-abysmally.ngrok-free.dev/api/webhooks/vapi",
        "maxDurationSeconds": 300,
        "isServerUrlSecretSet": false
      },
      {
        "id": "a6a87fd9-7713-42e9-a49d-6616f10d88d6",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Voxanne (Inbound Coordinator)",
        "voice": {
          "voiceId": "Paige",
          "provider": "vapi"
        },
        "createdAt": "2026-01-11T18:05:20.628Z",
        "updatedAt": "2026-01-11T18:05:20.628Z",
        "functions": [
          {
            "name": "send_demo_email",
            "description": "Send a demo video via email to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_email": {
                  "description": "The prospect's email address",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_email",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_whatsapp",
            "description": "Send a demo video via WhatsApp to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_sms",
            "description": "Send a demo video via SMS to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          }
        ],
        "model": {
          "model": "gpt-4",
          "messages": [
            {
              "role": "system"
            }
          ],
          "provider": "openai"
        },
        "recordingEnabled": true,
        "firstMessage": "Thank you for calling Serenity Medspa. This is Aura, your aesthetic concierge. How may I assist you with your beauty and wellness journey today?",
        "transcriber": {
          "model": "nova-2",
          "language": "en-US",
          "provider": "deepgram"
        },
        "serverMessages": [
          "function-call",
          "hang",
          "status-update",
          "end-of-call-report",
          "transcript"
        ],
        "serverUrl": "https://sobriquetical-zofia-abysmally.ngrok-free.dev/api/webhooks/vapi",
        "maxDurationSeconds": 300,
        "isServerUrlSecretSet": false
      },
      {
        "id": "e1cfaa01-2032-48b7-b26a-ccfd28052644",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Voxanne (Inbound Coordinator)",
        "voice": {
          "voiceId": "Paige",
          "provider": "vapi"
        },
        "createdAt": "2026-01-11T18:05:07.146Z",
        "updatedAt": "2026-01-11T18:05:07.146Z",
        "functions": [
          {
            "name": "send_demo_email",
            "description": "Send a demo video via email to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_email": {
                  "description": "The prospect's email address",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_email",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_whatsapp",
            "description": "Send a demo video via WhatsApp to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_sms",
            "description": "Send a demo video via SMS to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          }
        ],
        "model": {
          "model": "gpt-4",
          "messages": [
            {
              "role": "system"
            }
          ],
          "provider": "openai"
        },
        "recordingEnabled": true,
        "firstMessage": "Thank you for calling Serenity Medspa. This is Aura, your aesthetic concierge. How may I assist you with your beauty and wellness journey today?",
        "transcriber": {
          "model": "nova-2",
          "language": "en-US",
          "provider": "deepgram"
        },
        "serverMessages": [
          "function-call",
          "hang",
          "status-update",
          "end-of-call-report",
          "transcript"
        ],
        "serverUrl": "https://sobriquetical-zofia-abysmally.ngrok-free.dev/api/webhooks/vapi",
        "maxDurationSeconds": 300,
        "isServerUrlSecretSet": false
      },
      {
        "id": "8858b9bd-f2f7-4c76-b54f-742d932ab6e4",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Voxanne (Inbound Coordinator)",
        "voice": {
          "voiceId": "Paige",
          "provider": "vapi"
        },
        "createdAt": "2026-01-11T18:05:06.127Z",
        "updatedAt": "2026-01-11T18:05:06.127Z",
        "functions": [
          {
            "name": "send_demo_email",
            "description": "Send a demo video via email to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_email": {
                  "description": "The prospect's email address",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_email",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_whatsapp",
            "description": "Send a demo video via WhatsApp to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_sms",
            "description": "Send a demo video via SMS to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          }
        ],
        "model": {
          "model": "gpt-4",
          "messages": [
            {
              "role": "system"
            }
          ],
          "provider": "openai"
        },
        "recordingEnabled": true,
        "firstMessage": "Thank you for calling Serenity Medspa. This is Aura, your aesthetic concierge. How may I assist you with your beauty and wellness journey today?",
        "transcriber": {
          "model": "nova-2",
          "language": "en-US",
          "provider": "deepgram"
        },
        "serverMessages": [
          "function-call",
          "hang",
          "status-update",
          "end-of-call-report",
          "transcript"
        ],
        "serverUrl": "https://sobriquetical-zofia-abysmally.ngrok-free.dev/api/webhooks/vapi",
        "maxDurationSeconds": 300,
        "isServerUrlSecretSet": false
      },
      {
        "id": "7d2ead9a-675a-4c6e-ad1e-72d6673ad401",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Voxanne (Inbound Coordinator)",
        "voice": {
          "voiceId": "Paige",
          "provider": "vapi"
        },
        "createdAt": "2026-01-11T18:05:01.031Z",
        "updatedAt": "2026-01-11T18:05:01.031Z",
        "functions": [
          {
            "name": "send_demo_email",
            "description": "Send a demo video via email to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_email": {
                  "description": "The prospect's email address",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_email",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_whatsapp",
            "description": "Send a demo video via WhatsApp to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_sms",
            "description": "Send a demo video via SMS to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          }
        ],
        "model": {
          "model": "gpt-4",
          "messages": [
            {
              "role": "system"
            }
          ],
          "provider": "openai"
        },
        "recordingEnabled": true,
        "firstMessage": "Thank you for calling Serenity Medspa. This is Aura, your aesthetic concierge. How may I assist you with your beauty and wellness journey today?",
        "transcriber": {
          "model": "nova-2",
          "language": "en-US",
          "provider": "deepgram"
        },
        "serverMessages": [
          "function-call",
          "hang",
          "status-update",
          "end-of-call-report",
          "transcript"
        ],
        "serverUrl": "https://sobriquetical-zofia-abysmally.ngrok-free.dev/api/webhooks/vapi",
        "maxDurationSeconds": 300,
        "isServerUrlSecretSet": false
      },
      {
        "id": "3f687301-7aa3-4e29-9349-b467f50ec16b",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Voxanne (Inbound Coordinator)",
        "voice": {
          "voiceId": "Paige",
          "provider": "vapi"
        },
        "createdAt": "2026-01-11T18:04:47.155Z",
        "updatedAt": "2026-01-11T18:04:47.155Z",
        "functions": [
          {
            "name": "send_demo_email",
            "description": "Send a demo video via email to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_email": {
                  "description": "The prospect's email address",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_email",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_whatsapp",
            "description": "Send a demo video via WhatsApp to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          },
          {
            "name": "send_demo_sms",
            "description": "Send a demo video via SMS to a prospect",
            "parameters": {
              "type": "object",
              "properties": {
                "call_id": {
                  "description": "The current call ID (optional)",
                  "type": "string"
                },
                "agent_id": {
                  "description": "The ID of the calling agent",
                  "type": "string"
                },
                "demo_type": {
                  "description": "Type of demo to send",
                  "type": "string",
                  "enum": [
                    "outbound_intro",
                    "inbound_intro",
                    "feature_overview"
                  ]
                },
                "clinic_name": {
                  "description": "The name of their clinic or practice",
                  "type": "string"
                },
                "prospect_name": {
                  "description": "The prospect's full name",
                  "type": "string"
                },
                "prospect_phone": {
                  "description": "The prospect's phone number with country code",
                  "type": "string"
                }
              },
              "required": [
                "prospect_name",
                "prospect_phone",
                "clinic_name",
                "demo_type",
                "agent_id"
              ]
            }
          }
        ],
        "model": {
          "model": "gpt-4",
          "messages": [
            {
              "role": "system"
            }
          ],
          "provider": "openai"
        },
        "recordingEnabled": true,
        "firstMessage": "Thank you for calling Serenity Medspa. This is Aura, your aesthetic concierge. How may I assist you with your beauty and wellness journey today?",
        "transcriber": {
          "model": "nova-2",
          "language": "en-US",
          "provider": "deepgram"
        },
        "serverMessages": [
          "function-call",
          "hang",
          "status-update",
          "end-of-call-report",
          "transcript"
        ],
        "serverUrl": "https://sobriquetical-zofia-abysmally.ngrok-free.dev/api/webhooks/vapi",
        "maxDurationSeconds": 300,
        "isServerUrlSecretSet": false
      },
      {
        "id": "9614677b-51c9-4386-934c-260dbf42c285",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Robin",
        "voice": {
          "voiceId": "Elliot",
          "provider": "vapi"
        },
        "createdAt": "2026-01-10T20:28:47.287Z",
        "updatedAt": "2026-01-10T20:28:47.287Z",
        "model": {
          "model": "gpt-4o",
          "messages": [
            {
              "role": "system",
              "content": "# Healthcare Coordination Agent Prompt\n\n## Identity & Purpose\n\nYou are Robin, a healthcare coordination voice assistant for Wellness Alliance Medical Group. Your primary purpose is to help patients schedule medical appointments, answer general health questions, provide pre-visit guidance, help with prescription refills, and coordinate care services while maintaining strict HIPAA compliance.\n\n## Voice & Persona\n\n### Personality\n- Sound compassionate, patient, and reassuring\n- Project a professional yet approachable demeanor\n- Maintain a calm, clear tone even when discussing sensitive health matters\n- Convey competence and healthcare knowledge without sounding clinical\n\n### Speech Characteristics\n- Speak in a warm, measured pace, especially when providing medical information\n- Use natural contractions and conversational language to build rapport\n- Include thoughtful transitions like \"Let me check that for you\" or \"I understand this is important\"\n- Balance medical terminology with accessible explanations when necessary\n\n## Conversation Flow\n\n### Introduction & Authentication\nStart with: \"Thank you for calling Wellness Alliance Medical Group. This is Robin, your healthcare coordinator. This call is protected under HIPAA privacy regulations. How may I help you today?\"\n\nFor authentication: \"Before we discuss any personal health information, I'll need to verify your identity. Could you please provide your [specific verification information]?\"\n\nPrivacy reminder: \"Thank you for verifying your identity. I want to assure you that our conversation is confidential and protected by HIPAA privacy laws.\"\n\n### Purpose Determination\n1. Open with general inquiry: \"How can I assist you with your healthcare needs today?\"\n2. Clarify specific need: \"I understand you're calling about [specific purpose]. To help you best, could you provide a few more details about what you need?\"\n3. Set appropriate expectations: \"I'll be happy to help you with that. Just so you know, I can [capabilities] but would need to connect you with [appropriate provider] for [limitations].\"\n\n### Symptom Screening (if applicable)\n1. Non-diagnostic disclaimer: \"I'll ask a few questions about what you're experiencing to help coordinate appropriate care. I want to clarify that I'm not providing medical advice or diagnosis.\"\n2. Symptom assessment: \"Could you describe the symptoms you're experiencing? How long have you been experiencing them?\"\n3. Severity assessment: \"On a scale of 1-10, with 10 being the most severe, how would you rate your [symptom]?\"\n4. Urgency determination: \"Based on what you've described, this sounds like it requires [level of urgency] attention.\"\n\n### Care Coordination\nFor appointments:\n1. Provider matching: \"Based on your needs, an appointment with [provider type] would be appropriate.\"\n2. Scheduling: \"I have availability with Dr. [Name] on [date] at [time], or [date] at [time]. Would either of those work for you?\"\n3. Visit preparation: \"For your appointment, please [specific preparations] and bring [necessary items].\"\n\nFor prescription refills:\n1. Medication verification: \"Could you confirm which medication you need refilled?\"\n2. Current status check: \"Let me check your prescription status. When did you last receive a refill?\"\n3. Process explanation: \"I'll submit the refill request to your provider. Typically, these are reviewed within [timeframe].\"\n\nFor general health information:\n1. Source attribution: \"According to our medical guidelines and [credible source], general information about [health topic] includes...\"\n2. Generalized guidance: \"Many patients with similar concerns are often advised to [general recommendations].\"\n3. Provider referral when needed: \"For personalized advice about this, it would be best to speak with your provider.\"\n\n### Follow-up & Next Steps\n1. Summary of action: \"To summarize, I've [action taken] for you today.\"\n2. Timeline expectations: \"You can expect [next step] within [realistic timeframe].\"\n3. Additional resources: \"In the meantime, you can [relevant resource or action].\"\n4. Continuity of care: \"Is there anything else you need assistance with regarding your healthcare today?\"\n\n### Closing\nEnd with: \"Thank you for calling Wellness Alliance Medical Group. If you have any other questions or concerns, please don't hesitate to call us back. Take care and stay well.\"\n\n## Response Guidelines\n\n- Use clear, accessible language when discussing health information\n- Avoid medical jargon when possible; when necessary, provide plain language explanations\n- Maintain a calm, reassuring tone regardless of the health concern described\n- Use explicit confirmation for important medical information: \"Just to confirm, you're experiencing [symptom] in your [body part] for [duration]. Is that correct?\"\n- Express appropriate empathy without overreacting to health concerns\n\n## Scenario Handling\n\n### For Urgent Medical Situations\n1. Identify emergency situations immediately: \"Based on what you're describing, this sounds like it requires immediate medical attention.\"\n2. Provide clear guidance: \"This is not something you should wait to address. You should [go to the emergency room/call 911] immediately.\"\n3. Remain calm and directive: \"The most important thing right now is for you to get immediate medical care. Would you like me to stay on the line while you [arrange transportation/call emergency services]?\"\n4. Document the interaction: \"I'll make a note in your record about this call and your reported symptoms for your provider to review.\"\n\n### For Appointment Scheduling\n1. Match provider to need: \"Based on your situation, I recommend scheduling with [appropriate provider type].\"\n2. Provide options: \"Dr. Smith has availability this Thursday at 10:00 AM or next Monday at 2:30 PM. Would either of those work for you?\"\n3. Confirm insurance coverage: \"Let me verify that this provider is covered by your insurance plan.\"\n4. Provide preparation instructions: \"For this appointment, you should [specific preparations] and arrive [arrival time] minutes early.\"\n5. Set expectations: \"During this appointment, the provider will [typical appointment procedures] and it will last approximately [duration].\"\n\n### For Prescription-Related Requests\n1. Verify prescription details: \"Let me confirm the prescription information. You're requesting a refill for [medication name] at [dosage], is that correct?\"\n2. Check status and eligibility: \"According to your record, this prescription [is/is not] eligible for refill at this time because [reason].\"\n3. Explain process: \"I'll send this refill request to Dr. [Name] for review. Once approved, it will be sent to your pharmacy, typically within [timeframe].\"\n4. For ineligible refills: \"This prescription requires a follow-up appointment before it can be refilled. Would you like me to schedule that appointment now?\"\n\n### For General Health Questions\n1. Provide general information: \"While I can't provide specific medical advice, I can share general information about [health topic].\"\n2. Cite authoritative sources: \"According to [credible health organization], [general information about the topic].\"\n3. Recommend appropriate resources: \"You can find more detailed information about this on our patient portal under [specific section].\"\n4. Encourage provider discussion: \"For personalized guidance on this topic, I'd recommend discussing it with your provider during your next appointment.\"\n\n## Knowledge Base\n\n### Medical Services Offered\n- Primary Care: Annual physicals, preventive care, illness visits, chronic disease management\n- Specialty Services: Cardiology, dermatology, endocrinology, gastroenterology, orthopedics\n- Diagnostic Services: Laboratory, imaging (X-ray, ultrasound, CT, MRI), EKG, stress testing\n- Preventive Services: Vaccinations, screenings, wellness checks, health education\n- Telehealth Options: Video visits, phone consultations, remote monitoring services\n\n### Provider Information\n- Physicians and their specialties, credentials, and availability\n- Nurse practitioners and physician assistants and their roles\n- Support staff and their responsibilities\n- Provider scheduling preferences and typical appointment durations\n- Areas of special interest or expertise for each provider\n\n### Facility Information\n- Locations and hours of operation\n- Services available at each location\n- Directions and parking information\n- Accessibility features\n- COVID-19 or other safety protocols in place\n\n### Administrative Processes\n- Insurance verification and coverage checking procedures\n- Patient registration requirements for new patients\n- Medical records access and release procedures\n- Billing practices and payment options\n- Referral processes for specialty care\n\n## Response Refinement\n\n- When discussing health symptoms: \"Many patients contact us about [symptom]. While I can't diagnose the cause, I can help you schedule with the appropriate provider to evaluate this.\"\n- For sensitive health topics: \"This is something many patients have questions about. Rest assured that all conversations with your provider are confidential.\"\n- When explaining medical concepts: \"In simple terms, [medical concept] refers to [plain language explanation]. Your provider can give you more specific information during your visit.\"\n- For insurance questions: \"While I can verify if a provider is in-network with your plan, for specific coverage questions about [service/procedure], I recommend also checking with your insurance company.\"\n\n## Call Management\n\n- If you need to look up information: \"I'll need to access that information in our system. This will take just a moment.\"\n- If dealing with a distressed caller: \"I understand this is concerning for you. I'm here to help make sure you get the care you need as quickly as possible.\"\n- If caller needs to be transferred: \"Based on your needs, I'll need to transfer you to our [department/specialist]. They'll be able to assist you better with [specific issue].\"\n- If you need to put a caller on hold: \"I need to check something in our system for you. May I place you on a brief hold for about [time estimate]?\"\n\nRemember that your ultimate goal is to connect patients with appropriate care while providing a compassionate, efficient experience. Always prioritize patient safety, maintain strict confidentiality, and help navigate the healthcare system with empathy and clarity."
            }
          ],
          "provider": "openai",
          "temperature": 0.5
        },
        "firstMessage": "Thank you for calling Wellness Alliance Medical Group. This is Robin, your healthcare coordinator. This call is protected under HIPAA privacy regulations. How may I help you today?",
        "voicemailMessage": "Hello, this is Robin from Wellness Alliance Medical Group. I'm calling regarding your healthcare coordination. Please call us back at your convenience. This is a private medical matter.",
        "endCallMessage": "Thank you for your time today. I've made sure all your healthcare coordination needs are addressed. Take care!",
        "transcriber": {
          "model": "flux-general-en",
          "language": "en",
          "provider": "deepgram"
        },
        "analysisPlan": {
          "summaryPlan": {
            "enabled": false
          },
          "successEvaluationPlan": {
            "enabled": false
          }
        },
        "isServerUrlSecretSet": false
      },
      {
        "id": "1de53ba4-6714-4048-8ddc-d87574f5af59",
        "orgId": "d5bc3d69-996a-445b-a234-494040dff620",
        "name": "Riley",
        "voice": {
          "voiceId": "Elliot",
          "provider": "vapi"
        },
        "createdAt": "2026-01-10T20:16:40.615Z",
        "updatedAt": "2026-01-10T20:16:40.615Z",
        "model": {
          "model": "gpt-4o",
          "messages": [
            {
              "role": "system",
              "content": "# Appointment Scheduling Agent Prompt\n\n## Identity & Purpose\n\nYou are Riley, an appointment scheduling voice assistant for Wellness Partners, a multi-specialty health clinic. Your primary purpose is to efficiently schedule, confirm, reschedule, or cancel appointments while providing clear information about services and ensuring a smooth booking experience.\n\n## Voice & Persona\n\n### Personality\n- Sound friendly, organized, and efficient\n- Project a helpful and patient demeanor, especially with elderly or confused callers\n- Maintain a warm but professional tone throughout the conversation\n- Convey confidence and competence in managing the scheduling system\n\n### Speech Characteristics\n- Use clear, concise language with natural contractions\n- Speak at a measured pace, especially when confirming dates and times\n- Include occasional conversational elements like \"Let me check that for you\" or \"Just a moment while I look at the schedule\"\n- Pronounce medical terms and provider names correctly and clearly\n\n## Conversation Flow\n\n### Introduction\nStart with: \"Thank you for calling Wellness Partners. This is Riley, your scheduling assistant. How may I help you today?\"\n\nIf they immediately mention an appointment need: \"I'd be happy to help you with scheduling. Let me get some information from you so we can find the right appointment.\"\n\n### Appointment Type Determination\n1. Service identification: \"What type of appointment are you looking to schedule today?\"\n2. Provider preference: \"Do you have a specific provider you'd like to see, or would you prefer the first available appointment?\"\n3. New or returning patient: \"Have you visited our clinic before, or will this be your first appointment with us?\"\n4. Urgency assessment: \"Is this for an urgent concern that needs immediate attention, or is this a routine visit?\"\n\n### Scheduling Process\n1. Collect patient information:\n   - For new patients: \"I'll need to collect some basic information. Could I have your full name, date of birth, and a phone number where we can reach you?\"\n   - For returning patients: \"To access your record, may I have your full name and date of birth?\"\n\n2. Offer available times:\n   - \"For [appointment type] with [provider], I have availability on [date] at [time], or [date] at [time]. Would either of those times work for you?\"\n   - If no suitable time: \"I don't see availability that matches your preference. Would you be open to seeing a different provider or trying a different day of the week?\"\n\n3. Confirm selection:\n   - \"Great, I've reserved [appointment type] with [provider] on [day], [date] at [time]. Does that work for you?\"\n\n4. Provide preparation instructions:\n   - \"For this appointment, please arrive 15 minutes early to complete any necessary paperwork. Also, please bring [required items].\"\n\n### Confirmation and Wrap-up\n1. Summarize details: \"To confirm, you're scheduled for a [appointment type] with [provider] on [day], [date] at [time].\"\n2. Set expectations: \"The appointment will last approximately [duration]. Please remember to [specific instructions].\"\n3. Optional reminders: \"Would you like to receive a reminder call or text message before your appointment?\"\n4. Close politely: \"Thank you for scheduling with Wellness Partners. Is there anything else I can help you with today?\"\n\n## Response Guidelines\n\n- Keep responses concise and focused on scheduling information\n- Use explicit confirmation for dates, times, and names: \"That's an appointment on Wednesday, February 15th at 2:30 PM with Dr. Chen. Is that correct?\"\n- Ask only one question at a time\n- Use phonetic spelling for verification when needed: \"That's C-H-E-N, like Charlie-Hotel-Echo-November\"\n- Provide clear time estimates for appointments and arrival times\n\n## Scenario Handling\n\n### For New Patient Scheduling\n1. Explain first visit procedures: \"Since this is your first visit, please arrive 20 minutes before your appointment to complete new patient forms.\"\n2. Collect necessary information: \"I'll need your full name, date of birth, contact information, and a brief reason for your visit.\"\n3. Explain insurance verification: \"Please bring your insurance card and photo ID to your appointment so we can verify your coverage.\"\n4. Set clear expectations: \"Your first appointment will be approximately [duration] and will include [typical first visit procedures].\"\n\n### For Urgent Appointment Requests\n1. Assess level of urgency: \"Could you briefly describe your symptoms so I can determine the appropriate scheduling priority?\"\n2. For true emergencies: \"Based on what you're describing, you should seek immediate medical attention. Would you like me to connect you with our triage nurse, or would you prefer I provide directions to the nearest emergency facility?\"\n3. For same-day needs: \"Let me check for any same-day appointments. We keep several slots open for urgent care needs.\"\n4. For urgent but not emergency situations: \"I can offer you our next urgent care slot on [date/time], or if you prefer to see your regular provider, their next available appointment is [date/time].\"\n\n### For Rescheduling Requests\n1. Locate the existing appointment: \"I'll need to find your current appointment first. Could you confirm your name and date of birth?\"\n2. Verify appointment details: \"I see you're currently scheduled for [current appointment details]. Is this the appointment you'd like to reschedule?\"\n3. Offer alternatives: \"I can offer you these alternative times: [provide 2-3 options].\"\n4. Confirm cancellation of old appointment: \"I'll cancel your original appointment on [date/time] and reschedule you for [new date/time]. You'll receive a confirmation of this change.\"\n\n### For Insurance and Payment Questions\n1. Provide general coverage information: \"Wellness Partners accepts most major insurance plans, including [list common accepted plans].\"\n2. For specific coverage questions: \"For specific questions about your coverage and potential out-of-pocket costs, I recommend contacting your insurance provider directly using the number on your insurance card.\"\n3. Explain payment expectations: \"We collect copayments at the time of service, and any additional costs will be billed after your insurance processes the claim.\"\n4. For self-pay patients: \"For patients without insurance, we offer a self-pay rate of [rate] for [service type]. Payment is expected at the time of service.\"\n\n## Knowledge Base\n\n### Appointment Types\n- Primary Care: Annual physicals, illness visits, follow-ups (30-60 minutes)\n- Specialist Consultations: Initial visits and follow-ups with specialists (45-60 minutes)\n- Diagnostic Services: Lab work, imaging, testing (varies by service, 15-90 minutes)\n- Wellness Services: Nutrition counseling, physical therapy, mental health (45-60 minutes)\n- Urgent Care: Same-day appointments for non-emergency acute issues (30 minutes)\n\n### Provider Information\n- Wellness Partners has 15 providers across various specialties\n- Primary care hours: Monday-Friday 8am-5pm, Saturday 9am-12pm\n- Specialist hours vary by department\n- Some providers only work on certain days of the week\n- New patient appointments are generally longer than follow-up visits\n\n### Preparation Requirements\n- Primary Care: No special preparation for most visits; fasting for annual physicals with lab work\n- Specialist: Varies by specialty, provide specific instructions based on visit type\n- Diagnostic: Specific preparation instructions based on test type (fasting, medication adjustments, etc.)\n- All Appointments: Insurance card, photo ID, list of current medications, copayment\n\n### Policies\n- New patients should arrive 20 minutes early to complete paperwork\n- Returning patients should arrive 15 minutes before appointment time\n- 24-hour notice required for cancellations to avoid $50 late cancellation fee\n- 15-minute grace period for late arrivals before appointment may need rescheduling\n- Insurance verification performed prior to appointment when possible\n\n## Response Refinement\n\n- When discussing available times, offer no more than 2-3 options initially to avoid overwhelming the caller\n- For appointments that require preparation: \"This appointment requires some special preparation. You'll need to [specific instructions]. Would you like me to email these instructions to you as well?\"\n- When confirming complex information: \"Let me make sure I have everything correct. You're [summary of all details]. Have I understood everything correctly?\"\n\n## Call Management\n\n- If you need time to check schedules: \"I'm checking our availability for [appointment type]. This will take just a moment.\"\n- If there are technical difficulties with the scheduling system: \"I apologize, but I'm experiencing a brief delay with our scheduling system. Could you bear with me for a moment while I resolve this?\"\n- If the caller has multiple complex scheduling needs: \"I understand you have several appointments to schedule. Let's handle them one at a time to ensure everything is booked correctly.\"\n\nRemember that your ultimate goal is to match patients with the appropriate care as efficiently as possible while ensuring they have all the information they need for a successful appointment. Accuracy in scheduling is your top priority, followed by providing clear preparation instructions and a positive, reassuring experience."
            }
          ],
          "provider": "openai",
          "temperature": 0.5
        },
        "firstMessage": "Thank you for calling Wellness Partners. This is Riley, your scheduling assistant. How may I help you today?",
        "voicemailMessage": "Hello, this is Riley from Wellness Partners. I'm calling about your appointment. Please call us back at your earliest convenience so we can confirm your scheduling details.",
        "endCallMessage": "Thank you for scheduling with Wellness Partners. Your appointment is confirmed, and we look forward to seeing you soon. Have a wonderful day!",
        "transcriber": {
          "model": "nova-3",
          "language": "en",
          "provider": "deepgram",
          "endpointing": 150
        },
        "clientMessages": [
          "conversation-update",
          "function-call",
          "hang",
          "model-output",
          "speech-update",
          "status-update",
          "transfer-update",
          "transcript",
          "tool-calls",
          "user-interrupted",
          "voice-input",
          "workflow.node.started",
          "assistant.started"
        ],
        "serverMessages": [
          "conversation-update",
          "end-of-call-report",
          "function-call",
          "hang",
          "speech-update",
          "status-update",
          "tool-calls",
          "transfer-destination-request",
          "handoff-destination-request",
          "user-interrupted",
          "assistant.started"
        ],
        "endCallPhrases": [
          "goodbye",
          "talk to you soon"
        ],
        "hipaaEnabled": false,
        "backgroundDenoisingEnabled": false,
        "startSpeakingPlan": {
          "waitSeconds": 0.4,
          "smartEndpointingEnabled": "livekit"
        },
        "isServerUrlSecretSet": false
      }
    ]

      at Object.<anonymous> (src/tests/regression/regression.test.ts:127:29)

  console.log
    Call History Error: 401 { error: 'Unauthorized' }

      at Object.<anonymous> (src/tests/regression/regression.test.ts:143:29)

FAIL src/tests/regression/regression.test.ts (48.239 s)
  Regression Tests - Full System Audit
    Auth System - Existing Functionality
      JWT Token Generation
        ✓ should generate valid JWT tokens during setup (117 ms)
        ✓ should allow access to protected routes with valid token (2920 ms)
      Role-Based Access
        ✓ should allow authenticated users to view their organization (3 ms)
    Organization System - Existing Functionality
      Organization Validation
        ✓ should still reject invalid UUIDs in routes (600 ms)
      Multi-tenant Isolation
        ✓ should return contacts only for the users organization (1 ms)
    Calendar Booking - Existing Functionality
      Booking Lifecycle
        ✓ should create a booking successfully (2050 ms)
    Agent System - Existing Functionality
      Agent Retrieval
        ✕ should list agents for the organization (1614 ms)
    Call System - Existing Functionality
      Call History
        ✕ should retrieve calls scoped by organization (30 ms)
    API Layer - Existing Functionality
      ✓ should return 401 for protected routes without token (9 ms)
      ✓ should return 404 for non-existent endpoints (26 ms)
    Performance - Existing Baselines
      ✓ should respond to health check within 2000ms (879 ms)

  ● Regression Tests - Full System Audit › Agent System - Existing Functionality › Agent Retrieval › should list agents for the organization

    expect(received).toBeDefined()

    Received: undefined

      127 |                     console.log('Agents Response:', JSON.stringify(response.body, null, 2));
      128 |                 }
    > 129 |                 expect(found).toBeDefined();
          |                               ^
      130 |             });
      131 |         });
      132 |     });

      at Object.<anonymous> (src/tests/regression/regression.test.ts:129:31)

  ● Regression Tests - Full System Audit › Call System - Existing Functionality › Call History › should retrieve calls scoped by organization

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 401

      143 |                     console.log('Call History Error:', response.status, response.body);
      144 |                 }
    > 145 |                 expect(response.status).toBe(200);
          |                                         ^
      146 |
      147 |                 // Note: response structure might be { calls: [], count: 0 } or just []
      148 |                 const calls = Array.isArray(response.body) ? response.body : response.body.calls || [];

      at Object.<anonymous> (src/tests/regression/regression.test.ts:145:41)

----------------------------------|---------|----------|---------|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                                                                                                                                                                                                                                                                                         
----------------------------------|---------|----------|---------|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
All files                         |   13.62 |     2.43 |    6.84 |   13.97 |                                                                                                                                                                                                                                                                                                           
 src                              |   49.27 |     16.5 |   21.42 |   49.63 |                                                                                                                                                                                                                                                                                                           
  server.ts                       |   49.27 |     16.5 |   21.42 |   49.63 | 15,132-137,160,181-182,252-253,261-278,287-289,303,318,323-324,353-422,428-542,548-639,645-648,653-656                                                                                                                                                                                                    
 src/config                       |   69.69 |    45.45 |      60 |   68.96 |                                                                                                                                                                                                                                                                                                           
  index.ts                        |   69.69 |    45.45 |      60 |   68.96 | 33,54,216-237,264,278-279                                                                                                                                                                                                                                                                                 
 src/jobs                         |    9.41 |        0 |       0 |    9.45 |                                                                                                                                                                                                                                                                                                           
  orphan-recording-cleanup.ts     |    6.41 |        0 |       0 |    6.41 | 27-90,99-181,190-207                                                                                                                                                                                                                                                                                      
  recording-metrics-monitor.ts    |   22.58 |        0 |       0 |   22.58 | 24-92,102-123                                                                                                                                                                                                                                                                                             
  recording-queue-worker.ts       |    7.89 |        0 |       0 |    7.96 | 39-263,272-385,395-425                                                                                                                                                                                                                                                                                    
 src/middleware                   |    28.9 |       25 |      25 |   29.36 |                                                                                                                                                                                                                                                                                                           
  auth.ts                         |    28.3 |    26.82 |   33.33 |   28.57 | 42-43,59-85,104-115,128-129,135-136,143-144,155-157,168-169,178-196,204-239,248-280                                                                                                                                                                                                                       
  rate-limit.ts                   |   66.66 |      100 |       0 |   66.66 | 13,30                                                                                                                                                                                                                                                                                                     
  validation.ts                   |   18.75 |        0 |      25 |      20 | 11-52                                                                                                                                                                                                                                                                                                     
 src/prompts                      |      20 |        0 |       0 |      20 |                                                                                                                                                                                                                                                                                                           
  outbound-agent-template.ts      |      20 |        0 |       0 |      20 | 37-39,188-209,216,231-290                                                                                                                                                                                                                                                                                 
 src/routes                       |    9.98 |     0.86 |    2.46 |   10.33 |                                                                                                                                                                                                                                                                                                           
  agent-sync.ts                   |      10 |        0 |       0 |      10 | 32-355                                                                                                                                                                                                                                                                                                    
  analytics.ts                    |   22.58 |        0 |       0 |   22.58 | 13-49,58-78                                                                                                                                                                                                                                                                                               
  appointments.ts                 |   22.91 |     8.53 |   33.33 |   24.26 | 29-87,121,143-144,150-155,185-188,202-254,265-286,297-368                                                                                                                                                                                                                                                 
  assistants.ts                   |   11.41 |     2.58 |      20 |   12.13 | 10,19-23,31-54,98-177,182-339,347-357,375-380,388-474,482-600,623-681,696-711                                                                                                                                                                                                                             
  book-demo.ts                    |      30 |        0 |       0 |      30 | 10-142                                                                                                                                                                                                                                                                                                    
  calendar-oauth.ts               |   15.78 |        0 |       0 |   15.78 | 24-56,72-168,177-211,223-254                                                                                                                                                                                                                                                                              
  calls-dashboard.ts              |    7.89 |        0 |       0 |    9.09 | 23-171,182-260,270-329,339-434,443-502,511-532                                                                                                                                                                                                                                                            
  calls.ts                        |   12.25 |     1.53 |    6.25 |   11.92 | 23-48,53-178,186-258,266-273,281-353,359-404,414-430                                                                                                                                                                                                                                                      
  contacts.ts                     |   24.69 |    11.86 |   16.66 |   25.97 | 25-49,88-89,97-98,111-112,150,169-170,176-181,192-238,254-309,320-341,353-410,422-489                                                                                                                                                                                                                     
  dashboard-leads.ts              |   19.44 |        0 |       0 |   21.21 | 15-69                                                                                                                                                                                                                                                                                                     
  escalation-rules.ts             |   13.51 |        0 |       0 |   13.51 | 18-43,52-106,115-145,154-172,181-206                                                                                                                                                                                                                                                                      
  founder-console-settings.ts     |     6.4 |        0 |       0 |    6.66 | 38-63,83-587,597-612,621-662                                                                                                                                                                                                                                                                              
  founder-console-v2.ts           |    5.39 |        0 |       0 |    5.56 | 39-44,82-159,299-306,314-329,343,352,368-421,430-483,507-797,807-812,826-1212,1228-1684,1700-2036,2052-2208,2225-2279,2321-2515,2527-2559,2575-2880,2890-2973,2982-3023,3033-3074,3087-3150,3168-3659,3673-3736,3746-3806,3818-3821,3831-3849,3859-3891,3900-3918,3927-3951,3960-3980,3994-4046,4056-4082 
  handoff-routes.ts               |   27.58 |        0 |       0 |   27.58 | 10,15-30,36-55                                                                                                                                                                                                                                                                                            
  inbound-setup.ts                |    6.17 |        0 |       0 |    6.17 | 16-29,37-352,364-440,449-485                                                                                                                                                                                                                                                                              
  integrations-byoc.ts            |    12.5 |        0 |       0 |   12.72 | 49-115,127-194,204-270,280-313,326-365,379-391                                                                                                                                                                                                                                                            
  integrations-status.ts          |   23.68 |        0 |       0 |   23.68 | 34-42,83-115,138-167,180-196                                                                                                                                                                                                                                                                              
  knowledge-base-rag.ts           |   19.69 |        0 |       0 |   21.31 | 23-104,113-145,154-175                                                                                                                                                                                                                                                                                    
  knowledge-base.ts               |    6.38 |        0 |       0 |    7.03 | 19-48,64-248,256-293,298-405,410-511,516-579,584-661,666-914                                                                                                                                                                                                                                              
  notifications.ts                |   12.14 |        0 |       0 |   12.74 | 27-98,108-144,155-193,204-237,252-293                                                                                                                                                                                                                                                                     
  phone-mapping-routes.ts         |   15.38 |        0 |       0 |   16.21 | 9-23,35-105,117-140,153-183,195-232                                                                                                                                                                                                                                                                       
  phone-numbers.ts                |   16.66 |        0 |       0 |   17.17 | 40-74,81-155,161-168,174-181,187-239,245-256                                                                                                                                                                                                                                                              
  sms-status-webhook.ts           |    12.5 |        0 |       0 |   12.96 | 32-215                                                                                                                                                                                                                                                                                                    
  team.ts                         |   10.86 |        0 |       0 |   11.11 | 16-24,32-75,84-155,164-214,223-254,263                                                                                                                                                                                                                                                                    
  vapi-discovery.ts               |    12.5 |        0 |       0 |   13.15 | 35-75,84-124,134-193,202-228                                                                                                                                                                                                                                                                              
  vapi-rag-integration.ts         |   26.92 |        0 |       0 |   26.92 | 25-60,77-101                                                                                                                                                                                                                                                                                              
  vapi-setup.ts                   |   25.64 |        8 |       0 |   27.02 | 29-128                                                                                                                                                                                                                                                                                                    
  vapi-tools-routes.ts            |   12.05 |        0 |       0 |   12.05 | 15-46,51,76-123,158-207,242-303,339-420,455-527,541-609,624-655                                                                                                                                                                                                                                           
  vapi-tools.ts                   |    5.12 |        0 |       0 |    5.12 | 23-480                                                                                                                                                                                                                                                                                                    
  vapi-webhook.ts                 |    23.8 |        0 |       0 |   24.19 | 36-137,142                                                                                                                                                                                                                                                                                                
  webhooks.ts                     |    4.56 |        0 |       0 |    4.63 | 56-65,86-204,251-947,973-1947,1965-1997                                                                                                                                                                                                                                                                   
 src/schemas                      |   83.33 |        0 |       0 |   83.33 |                                                                                                                                                                                                                                                                                                           
  founder-console.ts              |   83.33 |        0 |       0 |   83.33 | 25                                                                                                                                                                                                                                                                                                        
 src/services                     |   12.05 |     2.14 |    6.99 |   12.47 |                                                                                                                                                                                                                                                                                                           
  analytics-service.ts            |    5.33 |        0 |       0 |    6.25 | 17-189                                                                                                                                                                                                                                                                                                    
  atomic-booking-service.ts       |    4.12 |        0 |       0 |    4.12 | 32-394                                                                                                                                                                                                                                                                                                    
  booking-confirmation-service.ts |     9.8 |        0 |       0 |     9.8 | 41-240                                                                                                                                                                                                                                                                                                    
  cache.ts                        |   26.82 |        0 |    7.14 |    28.2 | 27-99,110,117,124,131,138                                                                                                                                                                                                                                                                                 
  calendar-integration.ts         |    7.24 |        0 |       0 |    7.46 | 36-131,147-207,226-261                                                                                                                                                                                                                                                                                    
  calendar-slot-service.ts        |   17.24 |        0 |       0 |   17.24 | 22-95                                                                                                                                                                                                                                                                                                     
  call-recording-storage.ts       |    6.61 |      5.4 |       0 |    6.71 | 44-117,129-379,389-408,417-437                                                                                                                                                                                                                                                                            
  call-type-detector.ts           |   14.28 |        0 |       0 |    14.7 | 20-26,48-111,125-149                                                                                                                                                                                                                                                                                      
  csv-import-service.ts           |    7.26 |        0 |       0 |    7.65 | 94-122,133-217,228-696,704-715,724-742,750-757,765-794                                                                                                                                                                                                                                                    
  document-chunker.ts             |    7.93 |        0 |       0 |    8.19 | 26-138,148-153,163-165                                                                                                                                                                                                                                                                                    
  email-service.ts                |   18.51 |        0 |       0 |   18.51 | 27-32,46-76,93-194                                                                                                                                                                                                                                                                                        
  embeddings.ts                   |   18.18 |     1.96 |       0 |   19.04 | 17,33,41-100,108-185,198-210                                                                                                                                                                                                                                                                              
  encryption.ts                   |   17.64 |        0 |       0 |   17.64 | 24-102                                                                                                                                                                                                                                                                                                    
  google-oauth-service.ts         |      10 |        0 |       0 |      10 | 20-31,46-67,83-175,187-266,277-306                                                                                                                                                                                                                                                                        
  handoff-service.ts              |   16.66 |        0 |       0 |   16.66 | 40-111                                                                                                                                                                                                                                                                                                    
  integration-decryptor.ts        |    5.66 |     1.04 |       0 |    5.69 | 97-712                                                                                                                                                                                                                                                                                                    
  integration-settings.ts         |    9.52 |        0 |       0 |    9.52 | 34-122                                                                                                                                                                                                                                                                                                    
  lead-scoring.ts                 |    9.25 |        0 |       0 |   11.23 | 68-158,180-206,213-221,229,237-253                                                                                                                                                                                                                                                                        
  logger.ts                       |      52 |    35.29 |   52.38 |      52 | 38,52,64-77,94-104,115-138,147,156-160,172,174-177                                                                                                                                                                                                                                                        
  org-validation.ts               |   16.12 |        0 |       0 |   16.12 | 24-49,64-79,91-96,112-125                                                                                                                                                                                                                                                                                 
  rag-context-provider.ts         |   15.51 |        0 |       0 |   16.07 | 26-122,130-134,151-157                                                                                                                                                                                                                                                                                    
  recording-metrics.ts            |    8.98 |        0 |       0 |    9.63 | 40-74,87-121,131-197,211-243,253-321                                                                                                                                                                                                                                                                      
  recording-upload-retry.ts       |    5.76 |        0 |       0 |    5.82 | 28-236,245-285,293-300                                                                                                                                                                                                                                                                                    
  redaction-service.ts            |   10.52 |        0 |       0 |   11.11 | 26-60                                                                                                                                                                                                                                                                                                     
  secrets-manager.ts              |    8.45 |        0 |       0 |    8.45 | 19-29,40-189,202-215,226-242                                                                                                                                                                                                                                                                              
  sentiment-analysis.ts           |   15.15 |        0 |       0 |   16.66 | 24-97                                                                                                                                                                                                                                                                                                     
  settings-cache.ts               |   31.25 |        0 |       0 |   31.25 | 8-23                                                                                                                                                                                                                                                                                                      
  sms-compliance-service.ts       |   35.29 |        0 |       0 |   35.29 | 12-43                                                                                                                                                                                                                                                                                                     
  sms-notifications.ts            |    7.95 |        0 |       0 |    7.95 | 15-62,86-129,141-192,204-251,263-295                                                                                                                                                                                                                                                                      
  supabase-client.ts              |   82.35 |       60 |      50 |   86.66 | 21,50                                                                                                                                                                                                                                                                                                     
  twilio-service.ts               |   12.24 |        0 |       0 |   12.24 | 43-68,79-121,136-173,189-191,206-208                                                                                                                                                                                                                                                                      
  vapi-booking-handler.ts         |     8.1 |        0 |       0 |     8.1 | 50-262,279-331                                                                                                                                                                                                                                                                                            
  vapi-client.ts                  |   16.32 |     6.66 |   14.58 |   18.25 | 106,131-165,172-174,178-188,194-199,209-461,469-673                                                                                                                                                                                                                                                       
  vapi-webhook-configurator.ts    |   10.52 |        0 |       0 |    10.9 | 14-19,41-159,173-194                                                                                                                                                                                                                                                                                      
  web-voice-bridge.ts             |    8.61 |        0 |    3.84 |    8.82 | 56-115,130-144,165-434,451-584,591-611,618,625                                                                                                                                                                                                                                                            
  websocket.ts                    |   13.79 |     2.85 |    5.26 |   14.59 | 18-26,81-185,200-218,225,232,242-295,302-312                                                                                                                                                                                                                                                              
 src/tests/regression/utils       |   90.54 |    54.16 |   83.33 |   95.16 |                                                                                                                                                                                                                                                                                                           
  regression-setup.ts             |   90.54 |    54.16 |   83.33 |   95.16 | 79,125,139                                                                                                                                                                                                                                                                                                
 src/types                        |   85.71 |    66.66 |   33.33 |   85.71 |                                                                                                                                                                                                                                                                                                           
  call-outcome.ts                 |   85.71 |    66.66 |   33.33 |   85.71 | 52,65,80,91-111                                                                                                                                                                                                                                                                                           
 src/utils                        |   16.45 |      0.9 |       0 |   17.18 |                                                                                                                                                                                                                                                                                                           
  encryption.ts                   |      25 |       25 |       0 |      25 | 7,16-29,38-58                                                                                                                                                                                                                                                                                             
  google-calendar.ts              |      10 |        0 |       0 |      10 | 20-85,107-135,157-212,230-298                                                                                                                                                                                                                                                                             
  otp-utils.ts                    |    23.8 |        0 |       0 |      25 | 12-15,25-26,35,45-58                                                                                                                                                                                                                                                                                      
  phone-validation.ts             |   22.22 |        0 |       0 |   22.22 | 14,25-52,63-69                                                                                                                                                                                                                                                                                            
  sanitize.ts                     |   17.64 |        0 |       0 |   21.42 | 6-8,22-24,31-39                                                                                                                                                                                                                                                                                           
  timeout-helper.ts               |   14.28 |        0 |       0 |   16.66 | 12-19                                                                                                                                                                                                                                                                                                     
  vapi-webhook-signature.ts       |      20 |        0 |       0 |      25 | 4,25-36,40-42,46-48                                                                                                                                                                                                                                                                                       
  webhook-org-resolver.ts         |   15.55 |        0 |       0 |   15.55 | 32-71,91-135,144-151,160-167                                                                                                                                                                                                                                                                              
----------------------------------|---------|----------|---------|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Test Suites: 1 failed, 1 total
Tests:       2 failed, 9 passed, 11 total
Snapshots:   0 total
Time:        56.269 s
Ran all test suites.
Jest did not exit one second after the test run has completed.

'This usually means that there are asynchronous operations that weren't stopped in your tests. Consider running Jest with `--detectOpenHandles` to troubleshoot this issue.
